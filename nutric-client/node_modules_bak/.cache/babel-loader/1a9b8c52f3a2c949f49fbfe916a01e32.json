{"ast":null,"code":"import _defineProperty from \"/home/ubuntu/workspace/nutric-client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/ubuntu/workspace/nutric-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ubuntu/workspace/nutric-client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ubuntu/workspace/nutric-client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ubuntu/workspace/nutric-client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ubuntu/workspace/nutric-client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ubuntu/workspace/nutric-client/src/Main/components/Recipes/Button-Popup.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { NavLink } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Add from '@material-ui/icons/Add';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Input from '@material-ui/core/Input';\nimport { apiCall } from '../../services/api';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport classNames from 'classnames';\nimport tacutacu from '../../images/tacutacu.jpg';\n\nvar styles = function styles(theme) {\n  return {\n    dialogPaper: {\n      minHeight: '85vh',\n      maxHeight: '85vh'\n    },\n    card: {\n      maxWidth: 345\n    },\n    media: {\n      height: 140\n    },\n    root: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    margin: {\n      margin: theme.spacing.unit\n    },\n    withoutLabel: {\n      marginTop: theme.spacing.unit * 3\n    },\n    textField: {\n      flexBasis: 200\n    }\n  };\n};\n\nvar ButtonPopup =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ButtonPopup, _Component);\n\n  function ButtonPopup() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ButtonPopup);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ButtonPopup)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      open: false,\n      multiline: \"\",\n      scheduledTimeDuration: 45,\n      notes: \"\",\n      patient: \"\",\n      weightRange: ''\n    };\n\n    _this.handleChange = function (prop) {\n      return function (event) {\n        _this.setState(_defineProperty({}, prop, event.target.value));\n      };\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var currentUserId = _this.props.currentUserId; // scheduledTimeStart,\n\n      var scheduledTimeStart = _this.state.date.set({\n        hour: _this.state.startTime.hours(),\n        minute: _this.state.startTime.minutes()\n      }).toDate(); // scheduledTimeEnd,\n\n\n      var scheduledTimeEnd = _this.state.date.set({\n        hour: _this.state.endTime.hours(),\n        minute: _this.state.endTime.minutes()\n      }).toDate(); // scheduledTimeDuration,\n\n\n      var duration = _this.state.endTime.diff(_this.state.startTime, \"minutes\");\n\n      apiCall(\"post\", \"/api/experts/\".concat(currentUserId, \"/scheduledappointments/\"), {\n        scheduledTimeStart: scheduledTimeStart,\n        scheduledTimeEnd: scheduledTimeEnd,\n        scheduledTimeDuration: duration,\n        notes: _this.state.notes,\n        patient_id: _this.state.patient\n      }).then(function (res) {\n        console.log(res); // ¿Cómo se redirigía con history?\n\n        window.location.href = \"/agenda\";\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.onPatientSelected = function (patientId) {\n      _this.setState({\n        patient: patientId.value\n      });\n    };\n\n    _this.handleClickOpen = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.handleChange = function (name) {\n      return function (event) {\n        _this.setState(_defineProperty({}, name, event.target.value));\n      };\n    };\n\n    return _this;\n  }\n\n  _createClass(ButtonPopup, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          currentUserId = _this$props.currentUserId,\n          patient = _this$props.patient;\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"outlined\",\n        color: \"secondary\",\n        onClick: this.handleClickOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Add, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), \" Agregar nueva receta\"), React.createElement(Dialog, {\n        classes: {\n          paper: classes.dialogPaper\n        },\n        open: this.state.open,\n        onClose: this.handleClose,\n        \"aria-labelledby\": \"form-dialog-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        id: \"form-dialog-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"space-between\",\n        alignItems: \"baseline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"space-between\",\n        alignItems: \"flex-start\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        md: 6,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        justify: \"space-between\",\n        alignItems: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        md: 3,\n        xs: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \" Nombre: \"), React.createElement(Grid, {\n        item: true,\n        md: 9,\n        xs: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"string\",\n        placeholder: \"Tacu Tacu a la Norte\\xF1a\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        item: true,\n        md: 3,\n        xs: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \" Categoria \"), React.createElement(Grid, {\n        item: true,\n        md: 9,\n        xs: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        select: true,\n        label: \"With Select\",\n        className: classNames(classes.margin, classes.textField),\n        value: this.state.weightRange,\n        onChange: this.handleChange('weightRange'),\n        InputProps: {\n          startAdornment: React.createElement(InputAdornment, {\n            position: \"start\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 158\n            },\n            __self: this\n          }, \"Kg\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      })))), React.createElement(Grid, {\n        item: true,\n        md: 6,\n        xs: 12,\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: classes.card,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(CardActionArea, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(CardMedia, {\n        className: classes.media,\n        image: tacutacu,\n        title: \"Tacu Tacu a la Norte\\xF1a\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }), React.createElement(CardContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      })), React.createElement(CardActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"contained\",\n        size: \"medium\",\n        color: \"primary\",\n        className: classes.margin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \"Editar Imagen\"), React.createElement(Button, {\n        variant: \"contained\",\n        size: \"medium\",\n        color: \"secondary\",\n        className: classes.margin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"Eliminar receta\"))))), React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"center\",\n        alignItems: \"baseline\",\n        spacing: 40,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        md: 2,\n        xs: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"Categoria\"), React.createElement(Grid, {\n        item: true,\n        md: 10,\n        xs: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        item: true,\n        md: 2,\n        xs: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        item: true,\n        md: 4,\n        xs: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        item: true,\n        md: 2,\n        xs: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        item: true,\n        md: 4,\n        xs: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        item: true,\n        md: 2,\n        xs: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"outlined-multiline-flexible\",\n        label: \"Instrucciones:\",\n        multiline: true,\n        rowsMax: \"4\",\n        value: this.state.notes,\n        onChange: this.handleChange('notes'),\n        margin: \"normal\",\n        variant: \"outlined\",\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      })))))), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.handleSubmit,\n        variant: \"contained\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, \"Guardar Receta\"), React.createElement(Button, {\n        onClick: this.handleClose,\n        variant: \"contained\",\n        color: \"secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, \"Cerrar\"))));\n    }\n  }]);\n\n  return ButtonPopup;\n}(Component);\n\nButtonPopup.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nfunction mapStateToProps(state) {\n  return {\n    patients: state.patients,\n    currentUserId: state.currentUser.user.id\n  };\n}\n\n;\nexport default connect(mapStateToProps, null)(withStyles(styles)(ButtonPopup));","map":{"version":3,"sources":["/home/ubuntu/workspace/nutric-client/src/Main/components/Recipes/Button-Popup.js"],"names":["React","Component","connect","Redirect","NavLink","PropTypes","withStyles","Button","Add","Grid","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Input","apiCall","Card","CardActionArea","CardActions","CardContent","CardMedia","Typography","InputAdornment","classNames","tacutacu","styles","theme","dialogPaper","minHeight","maxHeight","card","maxWidth","media","height","root","display","flexWrap","margin","spacing","unit","withoutLabel","marginTop","textField","flexBasis","ButtonPopup","state","open","multiline","scheduledTimeDuration","notes","patient","weightRange","handleChange","prop","event","setState","target","value","handleSubmit","e","preventDefault","currentUserId","props","scheduledTimeStart","date","set","hour","startTime","hours","minute","minutes","toDate","scheduledTimeEnd","endTime","duration","diff","patient_id","then","res","console","log","window","location","href","catch","err","onPatientSelected","patientId","handleClickOpen","handleClose","name","classes","paper","startAdornment","propTypes","object","isRequired","mapStateToProps","patients","currentUser","user","id"],"mappings":"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","sourcesContent":["   import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {Redirect} from 'react-router-dom';\nimport { NavLink } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Add from '@material-ui/icons/Add'\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Input from '@material-ui/core/Input';\nimport {apiCall} from '../../services/api'\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport classNames from 'classnames';\n\nimport tacutacu from '../../images/tacutacu.jpg'\n\nconst styles  = theme => ({\n    dialogPaper: {\n        minHeight: '85vh',\n        maxHeight: '85vh',\n    },\n    card: {\n        maxWidth: 345,\n  },\n    media: {\n         height: 140,\n  },\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  margin: {\n    margin: theme.spacing.unit,\n  },\n  withoutLabel: {\n    marginTop: theme.spacing.unit * 3,\n  },\n  textField: {\n    flexBasis: 200,\n  },\n})\n\n\n\n\n\nclass ButtonPopup extends Component {\n  state = {\n    open: false,\n    multiline:\"\",\n    scheduledTimeDuration: 45,\n    notes:\"\",\n    patient:\"\",\n    weightRange: '',\n  };\n\n  handleChange = prop => event => {\n    this.setState({ [prop]: event.target.value });\n  };\n\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const { currentUserId } = this.props\n    // scheduledTimeStart,\n    const scheduledTimeStart=this.state.date.set({hour: this.state.startTime.hours(), minute: this.state.startTime.minutes()}).toDate()\n    // scheduledTimeEnd,\n    const scheduledTimeEnd=this.state.date.set({hour: this.state.endTime.hours(), minute: this.state.endTime.minutes()}).toDate()\n    // scheduledTimeDuration,\n    const duration=this.state.endTime.diff(this.state.startTime, \"minutes\")\n       \n    apiCall(\"post\", `/api/experts/${currentUserId}/scheduledappointments/`,{\n      scheduledTimeStart:scheduledTimeStart,\n      scheduledTimeEnd:scheduledTimeEnd,\n      scheduledTimeDuration:duration,\n      notes:this.state.notes,\n      patient_id:this.state.patient,\n    })\n    .then(res => {\n      console.log(res);\n      // ¿Cómo se redirigía con history?\n      window.location.href=\"/agenda\"\n    })\n    .catch(err => {\n      console.log(err)\n    });\n  }\n\n  onPatientSelected = (patientId) => {\n    this.setState({ patient: patientId.value });\n  };\n  \n  handleClickOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n  \n  handleChange = name => event => {\n    this.setState({\n      [name]: event.target.value,\n    });\n  };\n\n  render() {\n    const {currentUserId, patient}=this.props\n    const { classes } = this.props;\n    \n    return (\n      <div>\n        <Button variant=\"outlined\" color=\"secondary\" onClick={this.handleClickOpen}>\n          <Add/> Agregar nueva receta\n        </Button> \n        <Dialog\n          classes={{paper:classes.dialogPaper}}\n          open={this.state.open}\n          onClose={this.handleClose}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\"></DialogTitle>\n          <DialogContent>\n            <form onSubmit={this.handleSubmit}>\n              <Grid container direction=\"row\" justify=\"space-between\" alignItems=\"baseline\">\n                <Grid container direction=\"row\" justify=\"space-between\" alignItems=\"flex-start\">\n                  <Grid item md={6} xs={12}>  \n                    <Grid container justify=\"space-between\" alignItems=\"center\">\n                      <Grid item md={3} xs={4}> Nombre: </Grid>\n                      <Grid item md={9} xs={8}>\n                      \n                          <Input\n                          type=\"string\"\n                          placeholder=\"Tacu Tacu a la Norteña\"\n                        />\n                        </Grid>\n                      <Grid item md={3} xs={4}> Categoria </Grid>\n                      <Grid item md={9} xs={8}>                        \n                          <TextField\n                            select\n                            label=\"With Select\"\n                            className={classNames(classes.margin, classes.textField)}\n                            value={this.state.weightRange}\n                            onChange={this.handleChange('weightRange')}\n                            InputProps={{\n                              startAdornment: <InputAdornment position=\"start\">Kg</InputAdornment>,\n                            }}\n                          />\n                      </Grid>\n                      \n                    </Grid>\n                  </Grid>  \n                  <Grid item md={6} xs={12} align=\"center\">\n                     <Card className={classes.card}>\n                      <CardActionArea>\n                        <CardMedia \n                        \n                          className={classes.media}\n                          image= {tacutacu}\n                          title=\"Tacu Tacu a la Norteña\"\n                        />\n                        <CardContent>\n                        </CardContent>\n                      </CardActionArea>\n                      <CardActions>\n                        <Button variant=\"contained\" size=\"medium\" color=\"primary\" className={classes.margin}>\n                          Editar Imagen\n                        </Button>\n                        <Button variant=\"contained\" size=\"medium\" color=\"secondary\" className={classes.margin}>\n                          Eliminar receta\n                        </Button>\n                      </CardActions>\n                    </Card>\n                  \n                  </Grid>\n\n                </Grid>\n                <Grid container direction=\"row\" justify=\"center\" alignItems=\"baseline\" spacing={40}>\n                  <Grid item md={2} xs={4}>Categoria</Grid>\n                  <Grid item md={10} xs={8}>\n\n                  </Grid>\n                  <Grid item md={2} xs={4}></Grid>\n                  <Grid item md={4} xs={8}>\n  \n                  </Grid>\n                  <Grid item md={2} xs={4}></Grid>\n                  <Grid item md={4} xs={8}>\n\n                  </Grid>\n                  <Grid item md={2} xs={4}></Grid>\n                  <Grid item xs={12}>\n                    <TextField\n                      id=\"outlined-multiline-flexible\"\n                      label=\"Instrucciones:\"\n                      multiline\n                      rowsMax=\"4\"\n                      value={this.state.notes}\n                      onChange={this.handleChange('notes')}\n                      margin=\"normal\"\n                      variant=\"outlined\"\n                      fullWidth\n                    />\n                  </Grid>\n                </Grid>\n              </Grid>\n            </form>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleSubmit} variant=\"contained\" color=\"primary\">\n              Guardar Receta\n            </Button>\n            <Button onClick={this.handleClose} variant=\"contained\" color=\"secondary\">\n              Cerrar\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nButtonPopup.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nfunction mapStateToProps(state){\n  return{\n    patients: state.patients,\n    currentUserId: state.currentUser.user.id\n  };\n};\n  \nexport default connect(mapStateToProps, null)(withStyles(styles)(ButtonPopup));"]},"metadata":{},"sourceType":"module"}