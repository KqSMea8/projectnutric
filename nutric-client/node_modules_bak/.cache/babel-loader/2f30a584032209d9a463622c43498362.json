{"ast":null,"code":"import { apiCall } from '../../services/api';\nimport { addError } from './errors';\nimport { LOAD_PATIENTS } from '../actionTypes';\nexport var loadPatients = function loadPatients() {\n  return {\n    type: LOAD_PATIENTS,\n    nombre: 'juansito',\n    apellido: 'si'\n  };\n};\nexport var fetchPatients = function fetchPatients(expert_id) {\n  return function (dispatch, getState) {\n    var _getState = getState(),\n        currentUser = _getState.currentUser;\n\n    var expert_id = currentUser.user.id;\n    return apiCall(\"get\", \"/api/experts/\".concat(expert_id, \"/patients/\")).then(function (res) {\n      dispatch(loadPatients(res));\n    }).catch(function (err) {\n      dispatch(addError(err.message));\n    });\n  };\n};","map":{"version":3,"sources":["/home/ubuntu/workspace/nutric-client/src/Main/store/actions/patients.js"],"names":["apiCall","addError","LOAD_PATIENTS","loadPatients","type","nombre","apellido","fetchPatients","expert_id","dispatch","getState","currentUser","user","id","then","res","catch","err","message"],"mappings":"AAAA,SAASA,OAAT,QAAwB,oBAAxB;AACA,SAASC,QAAT,QAAyB,UAAzB;AACA,SAASC,aAAT,QAA8B,gBAA9B;AAEA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe;AAAA,SAAO;AACjCC,IAAAA,IAAI,EAAEF,aAD2B;AAEjCG,IAAAA,MAAM,EAAC,UAF0B;AAGjCC,IAAAA,QAAQ,EAAE;AAHuB,GAAP;AAAA,CAArB;AAMP,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,SAAD,EAAe;AAC1C,SAAO,UAACC,QAAD,EAAWC,QAAX,EAAwB;AAAA,oBACPA,QAAQ,EADD;AAAA,QACvBC,WADuB,aACvBA,WADuB;;AAE7B,QAAMH,SAAS,GAAGG,WAAW,CAACC,IAAZ,CAAiBC,EAAnC;AACA,WAAOb,OAAO,CAAC,KAAD,yBAAwBQ,SAAxB,gBAAP,CACJM,IADI,CACC,UAAAC,GAAG,EAAI;AACXN,MAAAA,QAAQ,CAACN,YAAY,CAACY,GAAD,CAAb,CAAR;AACD,KAHI,EAIJC,KAJI,CAIE,UAAAC,GAAG,EAAI;AACZR,MAAAA,QAAQ,CAACR,QAAQ,CAACgB,GAAG,CAACC,OAAL,CAAT,CAAR;AACD,KANI,CAAP;AAQD,GAXD;AAYD,CAbM","sourcesContent":["import { apiCall } from '../../services/api';\nimport { addError } from './errors';\nimport { LOAD_PATIENTS } from '../actionTypes';\n\nexport const loadPatients = () => ({\n  type: LOAD_PATIENTS,\n  nombre:'juansito',\n  apellido: 'si'\n});\n\nexport const fetchPatients = (expert_id) => {\n  return (dispatch, getState) => {\n    let { currentUser } = getState();\n    const expert_id = currentUser.user.id;\n    return apiCall(\"get\", `/api/experts/${expert_id}/patients/`)\n      .then(res => {\n        dispatch(loadPatients(res));\n      })\n      .catch(err => {\n        dispatch(addError(err.message));\n      });\n    \n  };\n};"]},"metadata":{},"sourceType":"module"}