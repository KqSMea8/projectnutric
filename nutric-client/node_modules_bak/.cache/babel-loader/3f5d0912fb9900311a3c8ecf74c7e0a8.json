{"ast":null,"code":"module.exports =\n/******/\nfunction (modules) {\n  // webpackBootstrap\n\n  /******/\n  // The module cache\n\n  /******/\n  var installedModules = {};\n  /******/\n\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n\n    /******/\n    // Check if module is in cache\n\n    /******/\n    if (installedModules[moduleId]) {\n      /******/\n      return installedModules[moduleId].exports;\n      /******/\n    }\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n\n    var module = installedModules[moduleId] = {\n      /******/\n      i: moduleId,\n\n      /******/\n      l: false,\n\n      /******/\n      exports: {}\n      /******/\n\n    };\n    /******/\n\n    /******/\n    // Execute the module function\n\n    /******/\n\n    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n    /******/\n\n    /******/\n    // Flag the module as loaded\n\n    /******/\n\n    module.l = true;\n    /******/\n\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n    return module.exports;\n    /******/\n  }\n  /******/\n\n  /******/\n\n  /******/\n  // expose the modules object (__webpack_modules__)\n\n  /******/\n\n\n  __webpack_require__.m = modules;\n  /******/\n\n  /******/\n  // expose the module cache\n\n  /******/\n\n  __webpack_require__.c = installedModules;\n  /******/\n\n  /******/\n  // define getter function for harmony exports\n\n  /******/\n\n  __webpack_require__.d = function (exports, name, getter) {\n    /******/\n    if (!__webpack_require__.o(exports, name)) {\n      /******/\n      Object.defineProperty(exports, name, {\n        /******/\n        configurable: false,\n\n        /******/\n        enumerable: true,\n\n        /******/\n        get: getter\n        /******/\n\n      });\n      /******/\n    }\n    /******/\n\n  };\n  /******/\n\n  /******/\n  // getDefaultExport function for compatibility with non-harmony modules\n\n  /******/\n\n\n  __webpack_require__.n = function (module) {\n    /******/\n    var getter = module && module.__esModule ?\n    /******/\n    function getDefault() {\n      return module['default'];\n    } :\n    /******/\n    function getModuleExports() {\n      return module;\n    };\n    /******/\n\n    __webpack_require__.d(getter, 'a', getter);\n    /******/\n\n\n    return getter;\n    /******/\n  };\n  /******/\n\n  /******/\n  // Object.prototype.hasOwnProperty.call\n\n  /******/\n\n\n  __webpack_require__.o = function (object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n  };\n  /******/\n\n  /******/\n  // __webpack_public_path__\n\n  /******/\n\n\n  __webpack_require__.p = \"\";\n  /******/\n\n  /******/\n  // Load entry module and return exports\n\n  /******/\n\n  return __webpack_require__(__webpack_require__.s = 4);\n  /******/\n}(\n/************************************************************************/\n\n/******/\n[\n/* 0 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"react\");\n  /***/\n},\n/* 1 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  if (false) {\n    var REACT_ELEMENT_TYPE = typeof Symbol === 'function' && Symbol.for && Symbol.for('react.element') || 0xeac7;\n\n    var isValidElement = function isValidElement(object) {\n      return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n    }; // By explicitly using `prop-types` you are opting into new development behavior.\n    // http://fb.me/prop-types-in-prod\n\n\n    var throwOnDirectAccess = true;\n    module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n  } else {\n    // By explicitly using `prop-types` you are opting into new production behavior.\n    // http://fb.me/prop-types-in-prod\n    module.exports = __webpack_require__(6)();\n  }\n  /***/\n\n},\n/* 2 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"moment\");\n  /***/\n},\n/* 3 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.swapArrayElements = swapArrayElements;\n  exports.isMouseBeyond = isMouseBeyond;\n  exports.getUnique = getUnique;\n  exports.getLast = getLast;\n  exports.getFirst = getFirst;\n  exports.guid = guid;\n  exports.mapItems = mapItems;\n\n  var _moment = __webpack_require__(2);\n\n  var _moment2 = _interopRequireDefault(_moment);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n  /**\r\n   * @param {array} items\r\n   * @param {number} indexFrom\r\n   * @param {number} indexTo\r\n   * @returns {array}\r\n   */\n\n\n  function swapArrayElements(items, indexFrom, indexTo) {\n    var item = items[indexTo];\n    items[indexTo] = items[indexFrom];\n    items[indexFrom] = item;\n    return items;\n  }\n  /**\r\n   * @param {number} mousePos\r\n   * @param {number} elementPos\r\n   * @param {number} elementSize\r\n   * @returns {boolean}\r\n   */\n\n  /*** Helper functions - they are decoupled because of testability */\n\n\n  function isMouseBeyond(mousePos, elementPos, elementSize, moveInMiddle) {\n    var breakPoint;\n\n    if (moveInMiddle) {\n      breakPoint = elementSize / 2; //break point is set to the middle line of element\n    } else {\n      breakPoint = 0;\n    }\n\n    var mouseOverlap = mousePos - elementPos;\n    return mouseOverlap > breakPoint;\n  }\n\n  function getUnique(array) {\n    var newAr = array.filter(function (val, ind) {\n      return array.indexOf(val) == ind;\n    });\n    return newAr;\n  }\n\n  function getLast(array) {\n    return array[array.length - 1];\n  }\n\n  function getFirst(array) {\n    return array[0];\n  }\n\n  function guid() {\n    function s4() {\n      return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n    }\n\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n  }\n  /********************************/\n\n  /*  GENERATE ROWS OF CELLS     */\n\n  /******************************/\n\n\n  function mapItems(itemsArray, rowsPerHour, timezone) {\n    var itemsMap = {};\n    itemsArray = itemsArray.sort(function (a, b) {\n      return a.startDateTime - b.startDateTime;\n    });\n    itemsArray.forEach(function (item) {\n      if (!item.startDateTime) {\n        return false;\n      }\n\n      var interval = 60 / rowsPerHour;\n      var offsetMinutes = item.startDateTime.getMinutes() % interval;\n      var start = (0, _moment2.default)(item.startDateTime).subtract(offsetMinutes, \"minutes\").toDate();\n      var end = (0, _moment2.default)(item.endDateTime);\n\n      var duration = _moment2.default.duration(end.diff(start));\n\n      item.duration = duration;\n      var rows = Math.ceil(duration.asHours() / (interval / 60));\n      var cellRefs = [];\n\n      for (var i = 0; i < rows; i++) {\n        var ref = (0, _moment2.default)(start).add(i * interval, 'minutes'); // if(timezone) {\n        //     ref.tz(timezone);\n        // }\n\n        ref = ref.format('YYYY-MM-DDTHH:mm:00');\n        cellRefs.push(ref);\n      }\n\n      cellRefs.forEach(function (ref) {\n        var newItem = Object.keys(item).filter(function (key) {\n          return !key.includes('classes');\n        }).reduce(function (obj, key) {\n          obj[key] = item[key];\n          return obj;\n        }, {});\n        newItem.classes = itemsMap[ref] ? itemsMap[ref].classes + ' ' + item.classes : item.classes || '';\n        newItem.cellRefs = [getFirst(cellRefs), getLast(cellRefs)];\n\n        if (itemsMap[ref]) {\n          if (itemsMap[ref]._id) {\n            var newArr = [itemsMap[ref], newItem];\n            itemsMap[ref] = newArr;\n            return;\n          }\n\n          if (itemsMap[ref][0] && !itemsMap[ref]._id) {\n            itemsMap[ref].push(newItem);\n            return;\n          }\n\n          return;\n        }\n\n        itemsMap[ref] = newItem;\n      });\n    }, this);\n    return itemsMap;\n  }\n  /***/\n\n},\n/* 4 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n\n  var _reactAgenda = __webpack_require__(5);\n\n  var _reactAgenda2 = _interopRequireDefault(_reactAgenda);\n\n  var _reactAgendaCtrl = __webpack_require__(14);\n\n  var _reactAgendaCtrl2 = _interopRequireDefault(_reactAgendaCtrl);\n\n  var _Modal = __webpack_require__(17);\n\n  var _Modal2 = _interopRequireDefault(_Modal);\n\n  var _helpers = __webpack_require__(3);\n\n  __webpack_require__(19);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  module.exports = {\n    ReactAgenda: _reactAgenda2.default,\n    ReactAgendaCtrl: _reactAgendaCtrl2.default,\n    guid: _helpers.guid,\n    getUnique: _helpers.getUnique,\n    getLast: _helpers.getLast,\n    getFirst: _helpers.getFirst,\n    Modal: _Modal2.default\n  };\n  /***/\n},\n/* 5 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  };\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var _react = __webpack_require__(0);\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _propTypes = __webpack_require__(1);\n\n  var _propTypes2 = _interopRequireDefault(_propTypes);\n\n  var _moment = __webpack_require__(2);\n\n  var _moment2 = _interopRequireDefault(_moment);\n\n  var _reactAgendaItem = __webpack_require__(10);\n\n  var _reactAgendaItem2 = _interopRequireDefault(_reactAgendaItem);\n\n  var _classnames = __webpack_require__(12);\n\n  var _classnames2 = _interopRequireDefault(_classnames);\n\n  var _helpers = __webpack_require__(3);\n\n  var _dragAndDropHelper = __webpack_require__(13);\n\n  var DragDropHelper = _interopRequireWildcard(_dragAndDropHelper);\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    } else {\n      var newObj = {};\n\n      if (obj != null) {\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n        }\n      }\n\n      newObj.default = obj;\n      return newObj;\n    }\n  }\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var startSelect;\n  var endSelect;\n  var isDragging = false;\n  var isMouseDown = false;\n  var draggedElement;\n  var timeNow = (0, _moment2.default)();\n  var draggedItem;\n  var ctrlKey = false;\n  var DEFAULT_ITEM = {\n    name: '',\n    classes: '',\n    cellRefs: []\n  };\n\n  var ReactAgenda = function (_Component) {\n    _inherits(ReactAgenda, _Component);\n\n    function ReactAgenda(props) {\n      _classCallCheck(this, ReactAgenda);\n\n      var _this = _possibleConstructorReturn(this, (ReactAgenda.__proto__ || Object.getPrototypeOf(ReactAgenda)).call(this, props));\n\n      _this.state = {\n        date: (0, _moment2.default)(),\n        items: {},\n        itemOverlayStyles: {},\n        highlightedCells: [],\n        numberOfDays: 4,\n        autoScaleNumber: 0,\n        focusedCell: null\n      };\n      _this.handleBeforeUpdate = _this.handleBeforeUpdate.bind(_this);\n      _this.handleOnNextButtonClick = _this.handleOnNextButtonClick.bind(_this);\n      _this.handleOnPrevButtonClick = _this.handleOnPrevButtonClick.bind(_this);\n      _this.handleMouseClick = _this.handleMouseClick.bind(_this);\n      _this.handleMouseOver = _this.handleMouseOver.bind(_this);\n      _this.removeSelection = _this.removeSelection.bind(_this);\n      _this.handleAllClickStarts = _this.handleAllClickStarts.bind(_this);\n      _this.handleAllClickEnds = _this.handleAllClickEnds.bind(_this);\n      _this.onDragStart = _this.onDragStart.bind(_this);\n      _this.onDragEnter = _this.onDragEnter.bind(_this);\n      _this.onDragOver = _this.onDragOver.bind(_this);\n      _this.onDragEnd = _this.onDragEnd.bind(_this);\n      _this.onDragHandlerStart = _this.onDragHandlerStart.bind(_this);\n      _this.onDragHandlerEnd = _this.onDragHandlerEnd.bind(_this);\n      _this.getSelection = _this.getSelection.bind(_this);\n      _this.editEvent = _this.editEvent.bind(_this);\n      _this.removeEvent = _this.removeEvent.bind(_this);\n      _this.dragEvent = _this.dragEvent.bind(_this);\n      _this.duplicateEvent = _this.duplicateEvent.bind(_this);\n      _this.resizeEvent = _this.resizeEvent.bind(_this);\n      _this.updateDimensions = _this.updateDimensions.bind(_this);\n      return _this;\n    }\n    /********************/\n\n    /*  Life Cycle      */\n\n    /********************/\n\n\n    _createClass(ReactAgenda, [{\n      key: 'componentWillMount',\n      value: function componentWillMount() {\n        this.handleBeforeUpdate(this.props);\n\n        if (this.props.autoScale) {\n          window.removeEventListener(\"resize\", this.updateDimensions);\n        }\n\n        if (this.props.locale && this.props.locale != \"en\") {\n          _moment2.default.locale(this.props.locale);\n        }\n      }\n    }, {\n      key: 'componentWillReceiveProps',\n      value: function componentWillReceiveProps(props) {\n        this.handleBeforeUpdate(props);\n      }\n    }, {\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        if (this.props.autoScale) {\n          window.addEventListener(\"resize\", this.updateDimensions);\n          this.updateDimensions();\n        }\n      }\n    }, {\n      key: 'updateDimensions',\n      value: function updateDimensions() {\n        var width = Math.round(document.getElementById('agenda-wrapper').offsetWidth / 150 - 1);\n        this.setState({\n          autoScaleNumber: width,\n          numberOfDays: width\n        });\n      }\n      /********************/\n\n      /*  Item Renderers  */\n\n      /********************/\n\n    }, {\n      key: 'getHeaderColumns',\n      value: function getHeaderColumns() {\n        var cols = [];\n\n        for (var i = 0; i < this.state.numberOfDays; i++) {\n          cols.push((0, _moment2.default)(this.state.date).add(i, 'days').toDate());\n        }\n\n        return cols;\n      }\n    }, {\n      key: 'getBodyRows',\n      value: function getBodyRows() {\n        var rows = [];\n        var interval = 60 / this.props.rowsPerHour;\n\n        for (var i = 0; i < 24 * this.props.rowsPerHour; i++) {\n          rows.push((0, _moment2.default)(this.state.date).startOf('day').add(Math.floor(i * interval), 'minutes'));\n        }\n\n        return rows;\n      }\n    }, {\n      key: 'getMinuteCells',\n      value: function getMinuteCells(rowMoment) {\n        var cells = [];\n\n        for (var i = 0; i < this.state.numberOfDays; i++) {\n          var cellRef = (0, _moment2.default)(rowMoment).add(i, 'days').format('YYYY-MM-DDTHH:mm:ss');\n          cells.push({\n            cellRef: cellRef,\n            item: this.state.items[cellRef] || DEFAULT_ITEM\n          });\n        }\n\n        return cells;\n      }\n      /********************/\n\n      /*  Event Handlers  */\n\n      /********************/\n\n    }, {\n      key: 'handleBeforeUpdate',\n      value: function handleBeforeUpdate(props) {\n        if (props.hasOwnProperty('startDate') && props.startDate !== this.state.date.toDate()) {\n          this.setState({\n            date: (0, _moment2.default)(props.startDate)\n          });\n        }\n\n        if (props.hasOwnProperty('items')) {\n          this.setState({\n            items: (0, _helpers.mapItems)(props.items, props.rowsPerHour, props.timezone)\n          });\n        }\n\n        if (props.hasOwnProperty('numberOfDays') && props.numberOfDays !== this.state.numberOfDays && !this.props.autoScale) {\n          this.setState({\n            numberOfDays: props.numberOfDays\n          });\n        }\n\n        if (props.hasOwnProperty('minDate') && (!this.state.hasOwnProperty('minDate') || props.minDate !== this.state.minDate.toDate())) {\n          this.setState({\n            minDate: (0, _moment2.default)(props.minDate)\n          });\n        }\n\n        if (props.hasOwnProperty('maxDate') && (!this.state.hasOwnProperty('maxDate') || props.maxDate !== this.state.maxDate.toDate())) {\n          this.setState({\n            maxDate: (0, _moment2.default)(props.maxDate)\n          });\n        }\n      }\n    }, {\n      key: 'handleOnNextButtonClick',\n      value: function handleOnNextButtonClick() {\n        var nextStartDate = (0, _moment2.default)(this.state.date).add(this.state.numberOfDays, 'days');\n\n        if (this.state.hasOwnProperty('maxDate')) {\n          nextStartDate = _moment2.default.min(nextStartDate, this.state.maxDate);\n        }\n\n        var newStart = nextStartDate;\n        var newEnd = (0, _moment2.default)(newStart).add(this.state.numberOfDays - 1, 'days');\n\n        if (nextStartDate !== this.state.date) {\n          this.setState({\n            date: nextStartDate\n          });\n        }\n\n        if (this.props.onDateRangeChange) {\n          this.props.onDateRangeChange(newStart.startOf('day').toDate(), newEnd.endOf('day').toDate());\n        }\n      }\n    }, {\n      key: 'handleOnPrevButtonClick',\n      value: function handleOnPrevButtonClick() {\n        var prevStartDate = (0, _moment2.default)(this.state.date).subtract(this.state.numberOfDays, 'days');\n\n        if (this.state.hasOwnProperty('minDate')) {\n          prevStartDate = _moment2.default.max(prevStartDate, this.state.minDate);\n        }\n\n        var newStart = prevStartDate;\n        var newEnd = (0, _moment2.default)(newStart).add(this.state.numberOfDays - 1, 'days');\n\n        if (prevStartDate !== this.state.date) {\n          this.setState({\n            date: prevStartDate\n          });\n        }\n\n        if (this.props.onDateRangeChange) {\n          this.props.onDateRangeChange(newStart.toDate(), newEnd.toDate());\n        }\n      }\n    }, {\n      key: 'handleMouseClick',\n      value: function handleMouseClick(cell, bypass) {\n        if (typeof cell != \"string\" && cell.tagName) {\n          var dt = (0, _moment2.default)(cell.innerText, [\"h:mm A\"]).format(\"HH\");\n          var old = parseInt(dt);\n          var now = new Date();\n          var newdate = new Date(now.getFullYear(), now.getMonth(), now.getDate(), old + 1, 0);\n          var mom = newdate.toISOString().substring(0, newdate.toISOString().length - 5);\n\n          if (this.props.onCellSelect) {\n            return this.props.onCellSelect(mom, bypass);\n          }\n        }\n\n        if (this.props.onCellSelect) {\n          this.props.onCellSelect(cell, bypass);\n        }\n      }\n    }, {\n      key: 'handleMouseOver',\n      value: function handleMouseOver(e) {\n        if (e.buttons === 0) {\n          return false;\n        }\n\n        e.preventDefault ? e.preventDefault() : e.returnValue = false;\n        e.target.classList.add('agenda__cell_selected');\n      }\n    }, {\n      key: 'removeSelection',\n      value: function removeSelection() {\n        var old = document.getElementsByClassName('agenda__cell_selected');\n\n        for (var i = old.length - 1; i >= 0; --i) {\n          if (old[i]) {\n            old[i].classList.remove('agenda__cell_selected');\n          }\n        }\n      }\n    }, {\n      key: 'handleAllClickStarts',\n      value: function handleAllClickStarts(e, n) {\n        isMouseDown = true;\n        this.removeSelection();\n\n        if (e.target.classList.contains(\"--time\") || e.target.classList.contains(\"--time-now\") && !isDragging) {\n          return this.handleMouseClick(e.target);\n        }\n\n        if (e.target.classList.contains(\"agenda__cell\") && !e.target.classList.contains(\"--time\") && !isDragging) {\n          this.removeSelection();\n          e.target.classList.toggle('agenda__cell_selected');\n          startSelect = e.target.id;\n\n          if (e.buttons === 0) {\n            return false;\n          }\n\n          this.handleMouseClick(e.target.id);\n        }\n\n        if (e.target.classList.contains(\"cell-item\") && !isDragging) {\n          this.removeSelection(); // startSelect = e.target.id\n          //  this.handleMouseClick(e.target.id)\n        }\n      }\n    }, {\n      key: 'handleAllClickEnds',\n      value: function handleAllClickEnds(e, n) {\n        //  e.preventDefault ? e.preventDefault() : e.returnValue = false\n        isMouseDown = false;\n        isDragging = false;\n        endSelect = e.target.id;\n\n        if (startSelect && endSelect && startSelect != endSelect) {\n          return this.getSelection();\n        }\n      }\n      /**************** ****/\n\n      /*  Drag Handlers   */\n\n      /*******************/\n\n    }, {\n      key: 'onDragStart',\n      value: function onDragStart(e) {\n        isDragging = true;\n        isMouseDown = false;\n        draggedItem = e.target.id;\n        e.dataTransfer.setDragImage(e.target, 0, 0);\n      }\n    }, {\n      key: 'onDragEnter',\n      value: function onDragEnter(e) {\n        e.preventDefault();\n\n        if (!isDragging) {\n          this.removeSelection();\n        }\n\n        e.dataTransfer.dropEffect = \"move\";\n\n        if (e.ctrlKey) {\n          e.dataTransfer.effectAllowed = \"copy\";\n        }\n      }\n    }, {\n      key: 'onDragOver',\n      value: function onDragOver(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (e.target.id === draggedElement) {\n          return false;\n        }\n\n        if (e.ctrlKey) {\n          e.dataTransfer.effectAllowed = \"copy\";\n          ctrlKey = true;\n        } else {\n          e.dataTransfer.dropEffect = \"move\";\n        }\n\n        if (e.target.classList.contains(\"cell-item\")) {\n          return draggedElement = e.target.parentNode.parentNode.id;\n        }\n\n        if (e.target.classList.contains(\"handler\")) {\n          return draggedElement = e.target.parentNode.id;\n        }\n\n        if (e.target.classList.contains(\"dragDiv\")) {\n          return draggedElement = e.target.parentNode.id;\n        }\n\n        draggedElement = e.target.id;\n      }\n    }, {\n      key: 'dragEvent',\n      value: function dragEvent(id, d) {\n        if (!this.props.onChangeEvent) {\n          return;\n        }\n\n        var date = d;\n        var itm;\n\n        if (!this.refs[d]) {\n          return;\n        }\n\n        if (this.refs[d].tagName !== 'TD') {\n          // when user drag and drop an event into another we assign parent id\n          date = this.refs[d].parentNode.id;\n        }\n\n        var items = this.props.items;\n\n        if (id && date && items) {\n          for (var i in items) {\n            if (items[i]._id === id) {\n              var start = (0, _moment2.default)(items[i].startDateTime);\n              var end = (0, _moment2.default)(items[i].endDateTime);\n\n              var duration = _moment2.default.duration(end.diff(start));\n\n              var newdate = (0, _moment2.default)(date).subtract(duration % (60 / this.state.rowsPerHour));\n              var newEnddate = (0, _moment2.default)(newdate).add(duration);\n              items[i].startDateTime = new Date(newdate);\n              items[i].endDateTime = new Date(newEnddate);\n              itm = items[i];\n              break;\n            }\n          }\n\n          this.props.onChangeEvent(items, itm);\n        }\n      }\n    }, {\n      key: 'duplicateEvent',\n      value: function duplicateEvent(id, d) {\n        var date = d;\n        var itm;\n        var oldItm;\n\n        if (!this.refs[d]) {\n          return;\n        }\n\n        if (this.refs[d].tagName !== 'TD') {\n          // when user drag and drop an event into another we assign parent id\n          date = this.refs[d].parentNode.id;\n        }\n\n        var items = this.props.items;\n\n        if (id && date && items) {\n          for (var i in items) {\n            if (items[i]._id === id) {\n              itm = Object.assign({}, items[i], {\n                _id: (0, _helpers.guid)()\n              });\n              var start = (0, _moment2.default)(itm.startDateTime);\n              var end = (0, _moment2.default)(itm.endDateTime);\n\n              var duration = _moment2.default.duration(end.diff(start));\n\n              var newdate = (0, _moment2.default)(date);\n              var newEnddate = (0, _moment2.default)(newdate).add(duration);\n              itm.startDateTime = new Date(newdate);\n              itm.endDateTime = new Date(newEnddate);\n              items.push(itm);\n\n              if (this.props.onChangeEvent) {\n                this.props.onChangeEvent(items, itm);\n              }\n\n              break;\n            }\n          }\n        }\n      }\n    }, {\n      key: 'resizeEvent',\n      value: function resizeEvent(id, date) {\n        if (!this.props.onChangeDuration) {\n          return;\n        }\n\n        var items = this.props.items;\n\n        if (id && date && items) {\n          for (var i in items) {\n            if (items[i]._id === id) {\n              var difference = new Date(date) - new Date(items[i].startDateTime);\n\n              if (difference < 1) {\n                var strt = new Date(items[i].startDateTime);\n                items[i].endDateTime = new Date(strt.getFullYear(), strt.getMonth(), strt.getDate(), strt.getHours(), strt.getMinutes() + 15, 0);\n                this.setState({\n                  items: items\n                });\n                return this.props.onChangeDuration(items, items[i]);\n              }\n\n              var newdate = (0, _moment2.default)(date);\n              items[i].endDateTime = new Date(newdate);\n              return this.props.onChangeDuration(items, items[i]);\n              break;\n            }\n          }\n        }\n      }\n    }, {\n      key: 'onDragEnd',\n      value: function onDragEnd(e) {\n        var newDate = draggedElement;\n\n        if (ctrlKey) {\n          this.duplicateEvent(e.target.id, newDate);\n        } else {\n          this.dragEvent(e.target.id, newDate);\n        }\n\n        isDragging = false;\n        isMouseDown = false;\n        ctrlKey = false;\n        draggedElement = '';\n        draggedItem = '';\n      }\n    }, {\n      key: 'onDragHandlerStart',\n      value: function onDragHandlerStart(e) {\n        isDragging = true; //e.dataTransfer.setData(\"text/html\", e.target);\n        //e.dataTransfer.effectAllowed = \"all\";\n      }\n    }, {\n      key: 'onDragHandlerEnd',\n      value: function onDragHandlerEnd(e, n) {\n        if ((typeof draggedElement === 'undefined' ? 'undefined' : _typeof(draggedElement)) === undefined || draggedElement === '') {\n          return;\n        }\n\n        var item = e.target.id || e.target.offsetParent.id;\n\n        if (this.refs[draggedElement] && this.refs[e.target.id] && this.refs[e.target.id].tagName === \"DIV\" && this.refs[draggedElement].tagName === \"DIV\") {\n          //detect if we are resizing an event\n          item = e.target.id;\n          draggedElement = this.refs[draggedElement].parentNode.id;\n          return this.resizeEvent(item, draggedElement);\n        }\n\n        if (draggedElement === '' && !this.refs[draggedElement] && this.refs[e.target.id].tagName === \"DIV\") {\n          // when user drag and drop an event into another we assign parent id\n          draggedElement = this.refs[e.target.id].parentNode.id;\n          return;\n        }\n\n        if (!this.refs[draggedElement] && draggedElement) {\n          //detect if we are dragging an event from its description panel (item component)\n          var old = document.getElementById(draggedElement);\n          draggedElement = old.parentNode.id;\n        }\n\n        this.resizeEvent(item, draggedElement);\n        isDragging = false;\n        isMouseDown = false;\n        draggedElement = '';\n      }\n      /**************************/\n\n      /*  selection Handlers   */\n\n      /************************/\n\n    }, {\n      key: 'getSelection',\n      value: function getSelection() {\n        var array = [];\n        var array2 = [];\n        var old = document.getElementsByClassName('agenda__cell_selected');\n        array = Object.keys(old).map(function (value, index) {\n          return old[value].id;\n        });\n        var last = (0, _moment2.default)((0, _helpers.getLast)(array));\n        var addon = last.add(60 / this.props.rowsPerHour, 'Minutes');\n        array.push(addon.format('YYYY-MM-DDTHH:mm:00'));\n\n        if (this.props.onRangeSelection) {\n          this.props.onRangeSelection(array);\n        }\n      }\n      /***************************/\n\n      /*  EVENTS MODIFiCATION   */\n\n      /*************************/\n\n    }, {\n      key: 'editEvent',\n      value: function editEvent(props) {\n        if (this.props.onItemEdit) {\n          this.props.onItemEdit(props, true);\n        }\n      }\n    }, {\n      key: 'removeEvent',\n      value: function removeEvent(item) {\n        var items = this.props.items;\n        var newItems = items.filter(function (el) {\n          return el._id !== item._id;\n        });\n\n        if (this.props.onItemRemove) {\n          this.props.onItemRemove(newItems, item);\n        }\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var renderHeaderColumns = function renderHeaderColumns(col, i) {\n          var headerLabel = (0, _moment2.default)(col);\n          headerLabel.locale(this.props.locale);\n          return _react2.default.createElement('th', {\n            ref: \"column-\" + (i + 1),\n            key: \"col-\" + i,\n            className: 'agenda__cell --head'\n          }, this.props.headFormat ? headerLabel.format(this.props.headFormat) : headerLabel.format('dddd DD MMM YY'));\n        };\n\n        var renderBodyRows = function renderBodyRows(row, i) {\n          if (i % this.props.rowsPerHour === 0) {\n            var ref = \"hour-\" + Math.floor(i / this.props.rowsPerHour);\n            var timeLabel = (0, _moment2.default)(row);\n            var differ = timeLabel.diff(timeNow, 'minutes');\n            timeLabel.locale(this.props.locale);\n            return _react2.default.createElement('tr', {\n              key: \"row-\" + i,\n              ref: ref,\n              draggable: false,\n              className: 'agenda__row   --hour-start'\n            }, _react2.default.createElement('td', {\n              className: differ <= 60 && differ >= 0 ? 'disable-select agenda__cell --time-now' : 'disable-select agenda__cell --time',\n              rowSpan: this.props.rowsPerHour\n            }, timeLabel.format('LT')), this.getMinuteCells(row).map(renderMinuteCells, this));\n          } else {\n            return _react2.default.createElement('tr', {\n              key: \"row-\" + i\n            }, this.getMinuteCells(row).map(renderMinuteCells, this));\n          }\n        };\n\n        var itmName;\n        var Colors = this.props.itemColors;\n        var ItemComponent = this.props.itemComponent ? this.props.itemComponent : _reactAgendaItem2.default;\n\n        var renderItemCells = function (cell, i) {\n          var cellClasses = {\n            'agenda__cell': true\n          };\n          cell['item'].forEach(function (itm) {\n            cellClasses[itm.classes] = true;\n          });\n          var classSet = (0, _classnames2.default)(cellClasses);\n          var splt = classSet.split(' ');\n          splt = splt.filter(function (i) {\n            return !i.includes('agenda__cell');\n          });\n          splt = splt.filter(function (i) {\n            return !i.includes('undefined');\n          });\n          var nwsplt = [];\n          splt.forEach(function (value) {\n            if (value.length > 0) {\n              nwsplt.push(Colors[value]);\n            }\n          });\n          var styles = {\n            height: this.props.cellHeight + 'px'\n          };\n\n          if (splt.length > 1) {\n            if (nwsplt[1] === nwsplt[2]) {\n              nwsplt.splice(1, 0, \"rgb(255,255,255)\");\n            }\n\n            nwsplt = nwsplt.join(' , ');\n            styles = {\n              \"background\": 'linear-gradient(-100deg,' + nwsplt + ')',\n              height: this.props.cellHeight + 'px'\n            };\n          }\n\n          var itemElement = cell.item.map(function (item, idx) {\n            var last1 = (0, _helpers.getLast)(item.cellRefs);\n            var first1 = (0, _helpers.getFirst)(item.cellRefs);\n\n            if (first1 === cell.cellRef) {\n              return _react2.default.createElement('div', {\n                id: item._id,\n                ref: cell.cellRef,\n                key: idx,\n                className: 'dragDiv',\n                onDragStart: this.onDragStart,\n                onDragEnd: this.onDragEnd,\n                draggable: 'true'\n              }, first1 === cell.cellRef ? _react2.default.createElement('i', {\n                className: 'drag-handle-icon',\n                'aria-hidden': 'true'\n              }) : '', first1 === cell.cellRef ? _react2.default.createElement(ItemComponent, {\n                item: item,\n                parent: cell.cellRef,\n                itemColors: Colors,\n                edit: this.props.onItemEdit ? this.editEvent : null,\n                remove: this.props.onItemRemove ? this.removeEvent : null,\n                days: this.props.numberOfDays\n              }) : '');\n            }\n\n            if (last1 === cell.cellRef && this.props.onChangeDuration) {\n              return _react2.default.createElement('div', {\n                className: 'handler',\n                style: {\n                  marginLeft: 8 * (idx + 1) + 'px'\n                },\n                id: item._id,\n                key: item._id,\n                onDragStart: this.onDragHandlerStart,\n                onDragEnd: this.onDragHandlerEnd,\n                draggable: 'true'\n              }, _react2.default.createElement('i', {\n                className: 'resize-handle-icon'\n              }));\n            }\n\n            return '';\n          }.bind(this));\n          return _react2.default.createElement('td', {\n            ref: cell.cellRef,\n            key: \"cell-\" + i,\n            className: classSet,\n            style: styles,\n            id: cell.cellRef\n          }, itemElement);\n        }.bind(this);\n\n        var renderMinuteCells = function renderMinuteCells(cell, i) {\n          if (cell.item[0] && !cell.item._id) {\n            return renderItemCells(cell, i);\n          }\n\n          var cellClasses = {\n            'agenda__cell': true\n          };\n          cellClasses[cell.item.classes] = true;\n\n          if (cell.item.cellRefs) {\n            var last = (0, _helpers.getLast)(cell.item.cellRefs);\n            var first = (0, _helpers.getFirst)(cell.item.cellRefs);\n          }\n\n          var classSet = (0, _classnames2.default)(cellClasses);\n          var splt = classSet.split(' ');\n          splt = splt.filter(function (i) {\n            return !i.includes('agenda__cell');\n          });\n          splt = splt.filter(function (i) {\n            return !i.includes('undefined');\n          });\n          var nwsplt = [];\n          splt.forEach(function (value) {\n            if (value.length > 0) {\n              nwsplt.push(Colors[value]);\n            }\n          });\n          var styles = {\n            height: this.props.cellHeight + 'px'\n          };\n\n          if (splt.length > 1) {\n            nwsplt = nwsplt.join(' , ');\n            styles = {\n              \"background\": 'linear-gradient(to left,' + nwsplt + ')',\n              height: this.props.cellHeight + 'px'\n            };\n          }\n\n          if (splt.length == 1) {\n            styles = {\n              \"background\": nwsplt[0],\n              height: this.props.cellHeight + 'px'\n            };\n          }\n\n          return _react2.default.createElement('td', {\n            ref: cell.cellRef,\n            key: \"cell-\" + i,\n            className: classSet,\n            style: styles,\n            id: cell.cellRef\n          }, first === cell.cellRef ? _react2.default.createElement('div', {\n            id: cell.item._id,\n            ref: cell.item._id,\n            className: 'dragDiv',\n            onDragStart: this.onDragStart,\n            onDragEnd: this.onDragEnd,\n            draggable: 'true'\n          }, first === cell.cellRef && this.props.onChangeEvent ? _react2.default.createElement('i', {\n            className: 'drag-handle-icon',\n            'aria-hidden': 'true'\n          }) : '', first === cell.cellRef ? _react2.default.createElement(ItemComponent, {\n            item: cell.item,\n            parent: cell.cellRef,\n            itemColors: Colors,\n            edit: this.props.onItemEdit ? this.editEvent : null,\n            remove: this.props.onItemRemove ? this.removeEvent : null,\n            days: this.props.numberOfDays\n          }) : '') : '', last === cell.cellRef && this.props.onChangeDuration ? _react2.default.createElement('div', {\n            className: 'handler',\n            id: cell.item._id,\n            onDragStart: this.onDragHandlerStart,\n            onDragEnd: this.onDragHandlerEnd,\n            draggable: 'true'\n          }, _react2.default.createElement('i', {\n            className: 'resize-handle-icon'\n          })) : '');\n        };\n\n        var disablePrev = function disablePrev(state) {\n          if (!state.hasOwnProperty('minDate')) {\n            return false;\n          }\n\n          return state.date.toDate().getTime() === state.minDate.toDate().getTime();\n        };\n\n        var disableNext = function disableNext(state) {\n          if (!state.hasOwnProperty('maxDate')) {\n            return false;\n          }\n\n          return state.date.toDate().getTime() === state.maxDate.toDate().getTime();\n        };\n\n        return _react2.default.createElement('div', {\n          className: 'agenda',\n          id: 'agenda-wrapper'\n        }, _react2.default.createElement('div', {\n          className: 'agenda__table --header'\n        }, _react2.default.createElement('table', null, _react2.default.createElement('thead', null, _react2.default.createElement('tr', null, _react2.default.createElement('th', {\n          ref: 'column-0',\n          className: 'agenda__cell --controls'\n        }, _react2.default.createElement('div', {\n          className: 'agenda-controls-layout'\n        }, _react2.default.createElement('button', {\n          className: \"agenda__prev\" + (disablePrev(this.state) ? \" --disabled\" : \"\"),\n          onClick: this.handleOnPrevButtonClick\n        }), _react2.default.createElement('button', {\n          className: \"agenda__next\" + (disableNext(this.state) ? \" --disabled\" : \"\"),\n          onClick: this.handleOnNextButtonClick\n        }))), this.getHeaderColumns(this.props.view).map(renderHeaderColumns, this))))), _react2.default.createElement('div', {\n          ref: 'agendaScrollContainer',\n          className: 'agenda__table --body',\n          style: {\n            position: 'relative'\n          }\n        }, _react2.default.createElement('table', {\n          cellSpacing: '0',\n          cellPadding: '0'\n        }, _react2.default.createElement('tbody', {\n          onMouseDown: this.handleAllClickStarts,\n          onDragEnter: this.onDragEnter,\n          onDragOver: this.onDragOver,\n          onMouseUp: this.handleAllClickEnds,\n          onMouseOver: this.handleMouseOver\n        }, this.getBodyRows().map(renderBodyRows, this)))));\n      }\n    }]);\n\n    return ReactAgenda;\n  }(_react.Component);\n\n  exports.default = ReactAgenda;\n  ;\n  ReactAgenda.propTypes = {\n    minDate: _propTypes2.default.instanceOf(Date),\n    maxDate: _propTypes2.default.instanceOf(Date),\n    startDate: _propTypes2.default.instanceOf(Date),\n    startAtTime: _propTypes2.default.number,\n    cellHeight: _propTypes2.default.number,\n    view: _propTypes2.default.string,\n    locale: _propTypes2.default.string,\n    items: _propTypes2.default.array,\n    itemComponent: _propTypes2.default.element,\n    numberOfDays: _propTypes2.default.number,\n    headFormat: _propTypes2.default.string,\n    rowsPerHour: _propTypes2.default.number,\n    itemColors: _propTypes2.default.object,\n    fixedHeader: _propTypes2.default.bool,\n    autoScaleNumber: _propTypes2.default.bool\n  };\n  ReactAgenda.defaultProps = {\n    minDate: new Date(),\n    maxDate: new Date(new Date().getFullYear(), new Date().getMonth() + 3),\n    startDate: new Date(),\n    startAtTime: 0,\n    cellHeight: 15,\n    view: \"agenda\",\n    locale: \"en\",\n    items: [],\n    autoScale: false,\n    itemComponent: _reactAgendaItem2.default,\n    numberOfDays: 4,\n    headFormat: \"ddd DD MMM\",\n    rowsPerHour: 4,\n    itemColors: {\n      'color-1': \"rgba(102, 195, 131 , 1)\",\n      \"color-2\": \"rgba(242, 177, 52, 1)\",\n      \"color-3\": \"rgba(235, 85, 59, 1)\",\n      \"color-4\": \"rgba(70, 159, 213, 1)\"\n    },\n    fixedHeader: true\n  };\n  /***/\n},\n/* 6 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  var emptyFunction = __webpack_require__(7);\n\n  var invariant = __webpack_require__(8);\n\n  var ReactPropTypesSecret = __webpack_require__(9);\n\n  module.exports = function () {\n    function shim(props, propName, componentName, location, propFullName, secret) {\n      if (secret === ReactPropTypesSecret) {\n        // It is still safe when called from React.\n        return;\n      }\n\n      invariant(false, 'Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n    }\n\n    ;\n    shim.isRequired = shim;\n\n    function getShim() {\n      return shim;\n    }\n\n    ; // Important!\n    // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n    var ReactPropTypes = {\n      array: shim,\n      bool: shim,\n      func: shim,\n      number: shim,\n      object: shim,\n      string: shim,\n      symbol: shim,\n      any: shim,\n      arrayOf: getShim,\n      element: shim,\n      instanceOf: getShim,\n      node: shim,\n      objectOf: getShim,\n      oneOf: getShim,\n      oneOfType: getShim,\n      shape: getShim,\n      exact: getShim\n    };\n    ReactPropTypes.checkPropTypes = emptyFunction;\n    ReactPropTypes.PropTypes = ReactPropTypes;\n    return ReactPropTypes;\n  };\n  /***/\n\n},\n/* 7 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   */\n\n  function makeEmptyFunction(arg) {\n    return function () {\n      return arg;\n    };\n  }\n  /**\n   * This function accepts and discards inputs; it has no side effects. This is\n   * primarily useful idiomatically for overridable function endpoints which\n   * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n   */\n\n\n  var emptyFunction = function emptyFunction() {};\n\n  emptyFunction.thatReturns = makeEmptyFunction;\n  emptyFunction.thatReturnsFalse = makeEmptyFunction(false);\n  emptyFunction.thatReturnsTrue = makeEmptyFunction(true);\n  emptyFunction.thatReturnsNull = makeEmptyFunction(null);\n\n  emptyFunction.thatReturnsThis = function () {\n    return this;\n  };\n\n  emptyFunction.thatReturnsArgument = function (arg) {\n    return arg;\n  };\n\n  module.exports = emptyFunction;\n  /***/\n},\n/* 8 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   */\n\n  /**\n   * Use invariant() to assert state which your program assumes to be true.\n   *\n   * Provide sprintf-style format (only %s is supported) and arguments\n   * to provide information about what broke and what you were\n   * expecting.\n   *\n   * The invariant message will be stripped in production, but the invariant\n   * will remain to ensure logic does not differ in production.\n   */\n\n  var validateFormat = function validateFormat(format) {};\n\n  if (false) {\n    validateFormat = function validateFormat(format) {\n      if (format === undefined) {\n        throw new Error('invariant requires an error message argument');\n      }\n    };\n  }\n\n  function invariant(condition, format, a, b, c, d, e, f) {\n    validateFormat(format);\n\n    if (!condition) {\n      var error;\n\n      if (format === undefined) {\n        error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n      } else {\n        var args = [a, b, c, d, e, f];\n        var argIndex = 0;\n        error = new Error(format.replace(/%s/g, function () {\n          return args[argIndex++];\n        }));\n        error.name = 'Invariant Violation';\n      }\n\n      error.framesToPop = 1; // we don't care about invariant's own frame\n\n      throw error;\n    }\n  }\n\n  module.exports = invariant;\n  /***/\n},\n/* 9 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n  module.exports = ReactPropTypesSecret;\n  /***/\n},\n/* 10 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var _moment = __webpack_require__(2);\n\n  var _moment2 = _interopRequireDefault(_moment);\n\n  var _propTypes = __webpack_require__(1);\n\n  var _propTypes2 = _interopRequireDefault(_propTypes);\n\n  var _react = __webpack_require__(0);\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _helpers = __webpack_require__(3);\n\n  __webpack_require__(11);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var ReactAgendaItem = function (_Component) {\n    _inherits(ReactAgendaItem, _Component);\n\n    function ReactAgendaItem(props) {\n      _classCallCheck(this, ReactAgendaItem);\n\n      var _this = _possibleConstructorReturn(this, (ReactAgendaItem.__proto__ || Object.getPrototypeOf(ReactAgendaItem)).call(this, props));\n\n      _this.state = {\n        wrapper: {\n          width: '150px',\n          marginLeft: '0px',\n          zIndex: 5,\n          borderLeft: null\n        },\n        controls: {}\n      };\n      _this.updateDimensions = _this.updateDimensions.bind(_this);\n      _this.raiseZindex = _this.raiseZindex.bind(_this);\n      _this.lowerZindex = _this.lowerZindex.bind(_this);\n      return _this;\n    }\n\n    _createClass(ReactAgendaItem, [{\n      key: 'updateDimensions',\n      value: function updateDimensions() {\n        var elem = document.getElementById(this.props.parent);\n\n        if (elem) {\n          var nwidh = elem.offsetWidth / 1.4;\n          var nmrgl = this.props.padder > 0 ? nwidh / 5 + this.props.padder * 8 : nwidh / 5;\n          return this.setState({\n            wrapper: {\n              width: nwidh + 'px',\n              marginLeft: nmrgl + 'px',\n              marginTop: this.props.padder * 8 + 'px',\n              zIndex: 5\n            }\n          });\n        }\n      }\n    }, {\n      key: 'componentWillReceiveProps',\n      value: function componentWillReceiveProps(props, next) {\n        setTimeout(function () {\n          this.updateDimensions();\n        }.bind(this), 50);\n      }\n    }, {\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        window.addEventListener(\"resize\", this.updateDimensions);\n        this.updateDimensions();\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        window.removeEventListener(\"resize\", this.updateDimensions);\n      }\n    }, {\n      key: 'lowerZindex',\n      value: function lowerZindex(e) {\n        var sty = this.state.wrapper;\n\n        if (sty.zIndex === 8) {\n          var newState = {\n            wrapper: Object.assign({}, sty, {\n              zIndex: 5\n            })\n          };\n          return this.setState(newState);\n        }\n      }\n    }, {\n      key: 'raiseZindex',\n      value: function raiseZindex(e) {\n        var sty = this.state.wrapper;\n\n        if (sty.zIndex === 5) {\n          var newState = {\n            wrapper: Object.assign({}, sty, {\n              zIndex: 8\n            })\n          };\n          return this.setState(newState);\n        }\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _this2 = this;\n\n        var duratH = _moment2.default.duration(this.props.item.duration._milliseconds, 'Milliseconds').humanize();\n\n        var duratL = (0, _moment2.default)(this.props.item.startDateTime).format(\"HH:mm\");\n        var duratE = (0, _moment2.default)(this.props.item.endDateTime).format(\"HH:mm\");\n        return _react2.default.createElement('div', {\n          style: this.state.wrapper,\n          className: 'agenda-cell-item',\n          onMouseEnter: this.raiseZindex,\n          onMouseLeave: this.lowerZindex\n        }, _react2.default.createElement('div', {\n          className: 'agenda-controls-item',\n          style: this.state.controls\n        }, this.props.edit ? _react2.default.createElement('div', {\n          className: 'agenda-edit-event'\n        }, _react2.default.createElement('a', {\n          onClick: function onClick() {\n            return _this2.props.edit(_this2.props.item);\n          },\n          className: 'agenda-edit-modele'\n        }, _react2.default.createElement('i', {\n          className: 'edit-item-icon'\n        }))) : '', this.props.remove ? _react2.default.createElement('div', {\n          className: 'agenda-delete-event'\n        }, _react2.default.createElement('a', {\n          onClick: function onClick() {\n            return _this2.props.remove(_this2.props.item);\n          },\n          className: 'agenda-delete-modele'\n        }, _react2.default.createElement('i', {\n          className: 'remove-item-icon'\n        }))) : ''), _react2.default.createElement('div', {\n          className: 'agenda-item-description'\n        }, _react2.default.createElement('section', null, this.props.item.name), _react2.default.createElement('small', null, ', ', duratL, ' - ', duratE, ' , ', duratH)));\n      }\n    }]);\n\n    return ReactAgendaItem;\n  }(_react.Component);\n\n  exports.default = ReactAgendaItem;\n  ReactAgendaItem.propTypes = {\n    parent: _propTypes2.default.string,\n    item: _propTypes2.default.object,\n    padder: _propTypes2.default.number,\n    edit: _propTypes2.default.func,\n    remove: _propTypes2.default.func\n  };\n  ReactAgendaItem.defaultProps = {\n    parent: 'body',\n    item: {},\n    padder: 0\n  };\n  /***/\n},\n/* 11 */\n\n/***/\nfunction (module, exports) {// removed by extract-text-webpack-plugin\n\n  /***/\n},\n/* 12 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n  /*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n  */\n\n  /* global define */\n\n\n  (function () {\n    'use strict';\n\n    var hasOwn = {}.hasOwnProperty;\n\n    function classNames() {\n      var classes = [];\n\n      for (var i = 0; i < arguments.length; i++) {\n        var arg = arguments[i];\n        if (!arg) continue;\n        var argType = typeof arg;\n\n        if (argType === 'string' || argType === 'number') {\n          classes.push(arg);\n        } else if (Array.isArray(arg)) {\n          classes.push(classNames.apply(null, arg));\n        } else if (argType === 'object') {\n          for (var key in arg) {\n            if (hasOwn.call(arg, key) && arg[key]) {\n              classes.push(key);\n            }\n          }\n        }\n      }\n\n      return classes.join(' ');\n    }\n\n    if (typeof module !== 'undefined' && module.exports) {\n      module.exports = classNames;\n    } else if (true) {\n      // register as 'classnames', consistent with npm package name\n      !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n        return classNames;\n      }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else {\n      window.classNames = classNames;\n    }\n  })();\n  /***/\n\n},\n/* 13 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n\n  var DragDropTouch;\n\n  (function (DragDropTouch_1) {\n    'use strict';\n    /**\r\n     * Object used to hold the data that is being dragged during drag and drop operations.\r\n     *\r\n     * It may hold one or more data items of different types. For more information about\r\n     * drag and drop operations and data transfer objects, see\r\n     * <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer\">HTML Drag and Drop API</a>.\r\n     *\r\n     * This object is created automatically by the @see:DragDropTouch singleton and is\r\n     * accessible through the @see:dataTransfer property of all drag events.\r\n     */\n\n    var DataTransfer = function () {\n      function DataTransfer() {\n        this._dropEffect = 'move';\n        this._effectAllowed = 'all';\n        this._data = {};\n      }\n\n      Object.defineProperty(DataTransfer.prototype, \"dropEffect\", {\n        /**\r\n         * Gets or sets the type of drag-and-drop operation currently selected.\r\n         * The value must be 'none',  'copy',  'link', or 'move'.\r\n         */\n        get: function get() {\n          return this._dropEffect;\n        },\n        set: function set(value) {\n          this._dropEffect = value;\n        },\n        enumerable: true,\n        configurable: true\n      });\n      Object.defineProperty(DataTransfer.prototype, \"effectAllowed\", {\n        /**\r\n         * Gets or sets the types of operations that are possible.\r\n         * Must be one of 'none', 'copy', 'copyLink', 'copyMove', 'link',\r\n         * 'linkMove', 'move', 'all' or 'uninitialized'.\r\n         */\n        get: function get() {\n          return this._effectAllowed;\n        },\n        set: function set(value) {\n          this._effectAllowed = value;\n        },\n        enumerable: true,\n        configurable: true\n      });\n      Object.defineProperty(DataTransfer.prototype, \"types\", {\n        /**\r\n         * Gets an array of strings giving the formats that were set in the @see:dragstart event.\r\n         */\n        get: function get() {\n          return Object.keys(this._data);\n        },\n        enumerable: true,\n        configurable: true\n      });\n      /**\r\n       * Removes the data associated with a given type.\r\n       *\r\n       * The type argument is optional. If the type is empty or not specified, the data\r\n       * associated with all types is removed. If data for the specified type does not exist,\r\n       * or the data transfer contains no data, this method will have no effect.\r\n       *\r\n       * @param type Type of data to remove.\r\n       */\n\n      DataTransfer.prototype.clearData = function (type) {\n        if (type != null) {\n          delete this._data[type];\n        } else {\n          this._data = null;\n        }\n      };\n      /**\r\n       * Retrieves the data for a given type, or an empty string if data for that type does\r\n       * not exist or the data transfer contains no data.\r\n       *\r\n       * @param type Type of data to retrieve.\r\n       */\n\n\n      DataTransfer.prototype.getData = function (type) {\n        return this._data[type] || '';\n      };\n      /**\r\n       * Set the data for a given type.\r\n       *\r\n       * For a list of recommended drag types, please see\r\n       * https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Recommended_Drag_Types.\r\n       *\r\n       * @param type Type of data to add.\r\n       * @param value Data to add.\r\n       */\n\n\n      DataTransfer.prototype.setData = function (type, value) {\n        this._data[type] = value;\n      };\n      /**\r\n       * Set the image to be used for dragging if a custom one is desired.\r\n       *\r\n       * @param img An image element to use as the drag feedback image.\r\n       * @param offsetX The horizontal offset within the image.\r\n       * @param offsetY The vertical offset within the image.\r\n       */\n\n\n      DataTransfer.prototype.setDragImage = function (img, offsetX, offsetY) {\n        var ddt = DragDropTouch._instance;\n        ddt._imgCustom = img;\n        ddt._imgOffset = {\n          x: offsetX,\n          y: offsetY\n        };\n      };\n\n      return DataTransfer;\n    }();\n\n    DragDropTouch_1.DataTransfer = DataTransfer;\n    /**\r\n     * Defines a class that adds support for touch-based HTML5 drag/drop operations.\r\n     *\r\n     * The @see:DragDropTouch class listens to touch events and raises the\r\n     * appropriate HTML5 drag/drop events as if the events had been caused\r\n     * by mouse actions.\r\n     *\r\n     * The purpose of this class is to enable using existing, standard HTML5\r\n     * drag/drop code on mobile devices running IOS or Android.\r\n     *\r\n     * To use, include the DragDropTouch.js file on the page. The class will\r\n     * automatically start monitoring touch events and will raise the HTML5\r\n     * drag drop events (dragstart, dragenter, dragleave, drop, dragend) which\r\n     * should be handled by the application.\r\n     *\r\n     * For details and examples on HTML drag and drop, see\r\n     * https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Drag_operations.\r\n     */\n\n    var DragDropTouch = function () {\n      /**\r\n       * Initializes the single instance of the @see:DragDropTouch class.\r\n       */\n      function DragDropTouch() {\n        this._lastClick = 0; // enforce singleton pattern\n\n        if (DragDropTouch._instance) {\n          throw 'DragDropTouch instance already created.';\n        } // listen to touch events\n\n\n        if ('ontouchstart' in document) {\n          var d = document,\n              ts = this._touchstart.bind(this),\n              tm = this._touchmove.bind(this),\n              te = this._touchend.bind(this);\n\n          d.addEventListener('touchstart', ts);\n          d.addEventListener('touchmove', tm);\n          d.addEventListener('touchend', te);\n          d.addEventListener('touchcancel', te);\n        }\n      }\n      /**\r\n       * Gets a reference to the @see:DragDropTouch singleton.\r\n       */\n\n\n      DragDropTouch.getInstance = function () {\n        return DragDropTouch._instance;\n      }; // ** event handlers\n\n\n      DragDropTouch.prototype._touchstart = function (e) {\n        var _this = this;\n\n        if (this._shouldHandle(e)) {\n          // raise double-click and prevent zooming\n          if (Date.now() - this._lastClick < DragDropTouch._DBLCLICK) {\n            if (this._dispatchEvent(e, 'dblclick', e.target)) {\n              e.preventDefault();\n\n              this._reset();\n\n              return;\n            }\n          } // clear all variables\n\n\n          this._reset(); // get nearest draggable element\n\n\n          var src = this._closestDraggable(e.target);\n\n          if (src) {\n            // give caller a chance to handle the hover/move events\n            if (!this._dispatchEvent(e, 'mousemove', e.target) && !this._dispatchEvent(e, 'mousedown', e.target)) {\n              // get ready to start dragging\n              this._dragSource = src;\n              this._ptDown = this._getPoint(e);\n              this._lastTouch = e;\n              e.preventDefault(); // show context menu if the user hasn't started dragging after a while\n\n              setTimeout(function () {\n                if (_this._dragSource == src && _this._img == null) {\n                  if (_this._dispatchEvent(e, 'contextmenu', src)) {\n                    _this._reset();\n                  }\n                }\n              }, DragDropTouch._CTXMENU);\n            }\n          }\n        }\n      };\n\n      DragDropTouch.prototype._touchmove = function (e) {\n        if (this._shouldHandle(e)) {\n          // see if target wants to handle move\n          var target = this._getTarget(e);\n\n          if (this._dispatchEvent(e, 'mousemove', target)) {\n            this._lastTouch = e;\n            e.preventDefault();\n            return;\n          } // start dragging\n\n\n          if (this._dragSource && !this._img) {\n            var delta = this._getDelta(e);\n\n            if (delta > DragDropTouch._THRESHOLD) {\n              this._dispatchEvent(e, 'dragstart', this._dragSource);\n\n              this._createImage(e);\n\n              this._dispatchEvent(e, 'dragenter', target);\n            }\n          } // continue dragging\n\n\n          if (this._img) {\n            this._lastTouch = e;\n            e.preventDefault(); // prevent scrolling\n\n            if (target != this._lastTarget) {\n              this._dispatchEvent(this._lastTouch, 'dragleave', this._lastTarget);\n\n              this._dispatchEvent(e, 'dragenter', target);\n\n              this._lastTarget = target;\n            }\n\n            this._moveImage(e);\n\n            this._dispatchEvent(e, 'dragover', target);\n          }\n        }\n      };\n\n      DragDropTouch.prototype._touchend = function (e) {\n        if (this._shouldHandle(e)) {\n          // see if target wants to handle up\n          if (this._dispatchEvent(this._lastTouch, 'mouseup', e.target)) {\n            e.preventDefault();\n            return;\n          } // user clicked the element but didn't drag, so clear the source and simulate a click\n\n\n          if (!this._img) {\n            this._dragSource = null;\n\n            this._dispatchEvent(this._lastTouch, 'click', e.target);\n\n            this._lastClick = Date.now();\n          } // finish dragging\n\n\n          this._destroyImage();\n\n          if (this._dragSource) {\n            if (e.type.indexOf('cancel') < 0) {\n              this._dispatchEvent(this._lastTouch, 'drop', this._lastTarget);\n            }\n\n            this._dispatchEvent(this._lastTouch, 'dragend', this._dragSource);\n\n            this._reset();\n          }\n        }\n      }; // ** utilities\n      // ignore events that have been handled or that involve more than one touch\n\n\n      DragDropTouch.prototype._shouldHandle = function (e) {\n        return e && !e.defaultPrevented && e.touches && e.touches.length < 2;\n      }; // clear all members\n\n\n      DragDropTouch.prototype._reset = function () {\n        this._destroyImage();\n\n        this._dragSource = null;\n        this._lastTouch = null;\n        this._lastTarget = null;\n        this._ptDown = null;\n        this._dataTransfer = new DataTransfer();\n      }; // get point for a touch event\n\n\n      DragDropTouch.prototype._getPoint = function (e, page) {\n        if (e && e.touches) {\n          e = e.touches[0];\n        }\n\n        return {\n          x: page ? e.pageX : e.clientX,\n          y: page ? e.pageY : e.clientY\n        };\n      }; // get distance between the current touch event and the first one\n\n\n      DragDropTouch.prototype._getDelta = function (e) {\n        var p = this._getPoint(e);\n\n        return Math.abs(p.x - this._ptDown.x) + Math.abs(p.y - this._ptDown.y);\n      }; // get the element at a given touch event\n\n\n      DragDropTouch.prototype._getTarget = function (e) {\n        var pt = this._getPoint(e),\n            el = document.elementFromPoint(pt.x, pt.y);\n\n        while (el && getComputedStyle(el).pointerEvents == 'none') {\n          el = el.parentElement;\n        }\n\n        return el;\n      }; // create drag image from source element\n\n\n      DragDropTouch.prototype._createImage = function (e) {\n        // just in case...\n        if (this._img) {\n          this._destroyImage();\n        } // create drag image from custom element or drag source\n\n\n        var src = this._imgCustom || this._dragSource;\n        this._img = src.cloneNode(true);\n\n        this._copyStyle(src, this._img);\n\n        this._img.style.top = this._img.style.left = '-9999px';\n        this._img.style['-webkit-transform'] = 'translateX(-9999px) translateY(-9999px)'; // if creating from drag source, apply offset and opacity\n\n        if (!this._imgCustom) {\n          var rc = src.getBoundingClientRect(),\n              pt = this._getPoint(e);\n\n          this._imgOffset = {\n            x: pt.x - rc.left,\n            y: pt.y - rc.top\n          };\n          this._img.style.opacity = DragDropTouch._OPACITY.toString();\n        } // add image to document\n\n\n        this._moveImage(e);\n\n        document.body.appendChild(this._img);\n      }; // dispose of drag image element\n\n\n      DragDropTouch.prototype._destroyImage = function () {\n        if (this._img && this._img.parentElement) {\n          this._img.parentElement.removeChild(this._img);\n        }\n\n        this._img = null;\n        this._imgCustom = null;\n      }; // move the drag image element\n\n\n      DragDropTouch.prototype._moveImage = function (e) {\n        var _this = this;\n\n        requestAnimationFrame(function () {\n          var pt = _this._getPoint(e, true),\n              s = _this._img.style;\n\n          s.position = 'fixed';\n          s.pointerEvents = 'none';\n          s.zIndex = '999999';\n          s.top = s.left = '0px';\n          var left = Math.round(pt.x - _this._imgOffset.x);\n          var top = Math.round(pt.y - _this._imgOffset.y);\n        });\n      }; // copy properties from an object to another\n\n\n      DragDropTouch.prototype._copyProps = function (dst, src, props) {\n        for (var i = 0; i < props.length; i++) {\n          var p = props[i];\n          dst[p] = src[p];\n        }\n      };\n\n      DragDropTouch.prototype._copyStyle = function (src, dst) {\n        // remove potentially troublesome attributes\n        DragDropTouch._rmvAtts.forEach(function (att) {\n          dst.removeAttribute(att);\n        }); // copy canvas content\n\n\n        if (src instanceof HTMLCanvasElement) {\n          var cSrc = src,\n              cDst = dst;\n          cDst.width = cSrc.width;\n          cDst.height = cSrc.height;\n          cDst.getContext('2d').drawImage(cSrc, 0, 0);\n        } // copy style\n\n\n        var cs = getComputedStyle(src);\n\n        for (var i = 0; i < cs.length; i++) {\n          var key = cs[i];\n          dst.style[key] = cs[key];\n        }\n\n        dst.style.pointerEvents = 'none'; // and repeat for all children\n\n        for (var i = 0; i < src.children.length; i++) {\n          this._copyStyle(src.children[i], dst.children[i]);\n        }\n      };\n\n      DragDropTouch.prototype._dispatchEvent = function (e, type, target) {\n        if (e && target) {\n          var evt = document.createEvent('Event'),\n              t = e.touches ? e.touches[0] : e;\n          evt.initEvent(type, true, true);\n          evt.button = 0;\n          evt.which = evt.buttons = 1;\n\n          this._copyProps(evt, e, DragDropTouch._kbdProps);\n\n          this._copyProps(evt, t, DragDropTouch._ptProps);\n\n          evt.dataTransfer = this._dataTransfer;\n          target.dispatchEvent(evt);\n          return evt.defaultPrevented;\n        }\n\n        return false;\n      }; // gets an element's closest draggable ancestor\n\n\n      DragDropTouch.prototype._closestDraggable = function (e) {\n        for (; e; e = e.parentElement) {\n          if (e.hasAttribute('draggable')) {\n            return e;\n          }\n        }\n\n        return null;\n      };\n      /*private*/\n\n\n      DragDropTouch._instance = new DragDropTouch(); // singleton\n      // constants\n\n      DragDropTouch._THRESHOLD = 5; // pixels to move before drag starts\n\n      DragDropTouch._OPACITY = 0.5; // drag image opacity\n\n      DragDropTouch._DBLCLICK = 500; // max ms between clicks in a double click\n\n      DragDropTouch._CTXMENU = 900; // ms to hold before raising 'contextmenu' event\n      // copy styles/attributes from drag source to drag image element\n\n      DragDropTouch._rmvAtts = 'id,class,style,draggable'.split(','); // synthesize and dispatch an event\n      // returns true if the event has been handled (e.preventDefault == true)\n\n      DragDropTouch._kbdProps = 'altKey,ctrlKey,metaKey,shiftKey'.split(',');\n      DragDropTouch._ptProps = 'pageX,pageY,clientX,clientY,screenX,screenY'.split(',');\n      return DragDropTouch;\n    }();\n\n    DragDropTouch_1.DragDropTouch = DragDropTouch;\n  })(DragDropTouch || (DragDropTouch = {}));\n  /***/\n\n},\n/* 14 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var _react = __webpack_require__(0);\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _propTypes = __webpack_require__(1);\n\n  var _propTypes2 = _interopRequireDefault(_propTypes);\n\n  var _moment = __webpack_require__(2);\n\n  var _moment2 = _interopRequireDefault(_moment);\n\n  var _helpers = __webpack_require__(3);\n\n  var _reactDatetime = __webpack_require__(15);\n\n  var _reactDatetime2 = _interopRequireDefault(_reactDatetime);\n\n  __webpack_require__(16);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  } // @flow\n\n\n  var now = new Date();\n\n  var ReactAgendaCtrl = function (_Component) {\n    _inherits(ReactAgendaCtrl, _Component);\n\n    function ReactAgendaCtrl() {\n      _classCallCheck(this, ReactAgendaCtrl);\n\n      var _this = _possibleConstructorReturn(this, (ReactAgendaCtrl.__proto__ || Object.getPrototypeOf(ReactAgendaCtrl)).call(this));\n\n      _this.state = {\n        editMode: false,\n        showCtrl: false,\n        multiple: {},\n        name: '',\n        classes: 'priority-1',\n        startDateTime: now,\n        endDateTime: now\n      };\n      _this.handleDateChange = _this.handleDateChange.bind(_this);\n      _this.addEvent = _this.addEvent.bind(_this);\n      _this.updateEvent = _this.updateEvent.bind(_this);\n      _this.dispatchEvent = _this.dispatchEvent.bind(_this);\n      _this.handleSubmit = _this.handleSubmit.bind(_this);\n      _this.handleEdit = _this.handleEdit.bind(_this);\n      return _this;\n    }\n\n    _createClass(ReactAgendaCtrl, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        if (this.props.itemColors) {\n          this.setState({\n            classes: Object.keys(this.props.itemColors)[0]\n          });\n        }\n\n        setTimeout(function () {\n          if (this.refs.eventName) {\n            this.refs.eventName.focus();\n          }\n        }.bind(this), 50);\n\n        if (!this.props.selectedCells) {\n          var start = now;\n          var endT = (0, _moment2.default)(now).add(15, 'Minutes');\n          return this.setState({\n            editMode: false,\n            name: '',\n            startDateTime: start,\n            endDateTime: endT\n          });\n        }\n\n        if (this.props.selectedCells && this.props.selectedCells[0] && this.props.selectedCells[0]._id) {\n          var _start = (0, _moment2.default)(this.props.selectedCells[0].startDateTime);\n\n          var _endT = (0, _moment2.default)(this.props.selectedCells[0].endDateTime);\n\n          return this.setState({\n            editMode: true,\n            name: this.props.selectedCells[0].name,\n            classes: this.props.selectedCells[0].classes,\n            startDateTime: _start,\n            endDateTime: _endT\n          });\n        }\n\n        if (this.props.selectedCells && this.props.selectedCells.length === 1) {\n          var _start2 = (0, _moment2.default)((0, _helpers.getFirst)(this.props.selectedCells));\n\n          var _endT2 = (0, _moment2.default)((0, _helpers.getLast)(this.props.selectedCells)).add(15, 'Minutes');\n\n          return this.setState({\n            editMode: false,\n            name: '',\n            startDateTime: _start2,\n            endDateTime: _endT2\n          });\n        }\n\n        if (this.props.selectedCells && this.props.selectedCells.length > 0) {\n          var _start3 = (0, _moment2.default)((0, _helpers.getFirst)(this.props.selectedCells));\n\n          var _endT3 = (0, _moment2.default)((0, _helpers.getLast)(this.props.selectedCells)) || now;\n\n          this.setState({\n            editMode: false,\n            name: '',\n            startDateTime: _start3,\n            endDateTime: _endT3\n          });\n        }\n      }\n    }, {\n      key: 'handleChange',\n      value: function handleChange(event) {\n        if (event.target.tagName === 'BUTTON') {\n          event.preventDefault();\n        }\n\n        var data = this.state;\n        data[event.target.name] = event.target.value;\n        this.setState(data);\n      }\n    }, {\n      key: 'handleDateChange',\n      value: function handleDateChange(ev, date) {\n        var endD = (0, _moment2.default)(this.state.endDateTime);\n        var data = this.state;\n        data[ev] = date;\n\n        if (ev === 'startDateTime' && endD.diff(date) < 0) {\n          data['endDateTime'] = (0, _moment2.default)(date).add(15, 'minutes');\n        }\n\n        this.setState(data);\n      }\n    }, {\n      key: 'dispatchEvent',\n      value: function dispatchEvent(obj) {\n        var newAdded = [];\n        var items = this.props.items;\n\n        if (obj['multiple']) {\n          var array = obj['multiple'];\n          Object.keys(array).forEach(function (key) {\n            var newAr = array[key].filter(function (val, ind) {\n              return array[key].indexOf(val) == ind;\n            });\n            var start = newAr[0];\n            var endT = newAr[newAr.length - 1] || now;\n            var lasobj = {\n              _id: (0, _helpers.guid)(),\n              name: obj.name,\n              startDateTime: new Date(start),\n              endDateTime: new Date(endT),\n              classes: obj.classes\n            };\n            items.push(lasobj);\n            newAdded.push(lasobj);\n          }.bind(this));\n          return this.props.Addnew(items, newAdded);\n        }\n\n        obj._id = (0, _helpers.guid)();\n        items.push(obj);\n        this.props.Addnew(items, obj);\n      }\n    }, {\n      key: 'addEvent',\n      value: function addEvent(e) {\n        if (this.state.name.length < 1) {\n          return;\n        }\n\n        if (this.props.selectedCells && this.props.selectedCells.length > 0) {\n          var obj = this.props.selectedCells.reduce(function (r, v, i, a) {\n            var k = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : v.substring(0, 10);\n            return (r[k] = r[k] || []).push(v), r;\n          }, {});\n\n          if (Object.values(obj).length > 1) {\n            var newObj = {\n              name: this.state.name,\n              startDateTime: new Date(this.state.startDateTime),\n              endDateTime: new Date(this.state.endDateTime),\n              classes: this.state.classes,\n              multiple: obj\n            };\n            return this.dispatchEvent(newObj);\n          }\n        }\n\n        var newObj = {\n          name: this.state.name,\n          startDateTime: new Date(this.state.startDateTime),\n          endDateTime: new Date(this.state.endDateTime),\n          classes: this.state.classes\n        };\n        this.dispatchEvent(newObj);\n      }\n    }, {\n      key: 'updateEvent',\n      value: function updateEvent(e) {\n        if (this.props.selectedCells[0]._id && this.props.items) {\n          var newObj = {\n            _id: this.props.selectedCells[0]._id,\n            name: this.state.name,\n            startDateTime: new Date(this.state.startDateTime),\n            endDateTime: new Date(this.state.endDateTime),\n            classes: this.state.classes\n          };\n          var items = this.props.items;\n\n          for (var i = 0; i < items.length; i++) {\n            if (items[i]._id === newObj._id) items[i] = newObj;\n          }\n\n          if (this.props.edit) {\n            this.props.edit(items, newObj);\n          }\n        }\n      }\n    }, {\n      key: 'handleSubmit',\n      value: function handleSubmit(e) {\n        e.preventDefault();\n        this.addEvent(e);\n      }\n    }, {\n      key: 'handleEdit',\n      value: function handleEdit(e) {\n        e.preventDefault();\n        this.updateEvent(e);\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var itc = Object.keys(this.props.itemColors);\n        var colors = itc.map(function (item, idx) {\n          return _react2.default.createElement('div', {\n            style: {\n              background: this.props.itemColors[item]\n            },\n            className: 'agendCtrls-radio-buttons',\n            key: item\n          }, _react2.default.createElement('button', {\n            name: 'classes',\n            value: item,\n            className: this.state.classes === item ? 'agendCtrls-radio-button--checked' : 'agendCtrls-radio-button',\n            onClick: this.handleChange.bind(this)\n          }));\n        }.bind(this));\n        var divStyle = {};\n\n        if (this.state.editMode) {\n          var select = this.props.selectedCells[0];\n          return _react2.default.createElement('div', {\n            className: 'agendCtrls-wrapper',\n            style: divStyle\n          }, _react2.default.createElement('form', {\n            onSubmit: this.handleEdit\n          }, _react2.default.createElement('div', {\n            className: 'agendCtrls-label-wrapper'\n          }, _react2.default.createElement('div', {\n            className: 'agendCtrls-label-inline'\n          }, _react2.default.createElement('label', null, 'Event name'), _react2.default.createElement('input', {\n            type: 'text',\n            name: 'name',\n            autoFocus: true,\n            ref: 'eventName',\n            className: 'agendCtrls-event-input',\n            value: this.state.name,\n            onChange: this.handleChange.bind(this),\n            placeholder: 'Event Name'\n          })), _react2.default.createElement('div', {\n            className: 'agendCtrls-label-inline '\n          }, _react2.default.createElement('label', null, 'Color'), _react2.default.createElement('div', {\n            className: 'agendCtrls-radio-wrapper'\n          }, colors))), _react2.default.createElement('div', {\n            className: 'agendCtrls-timePicker-wrapper'\n          }, _react2.default.createElement('div', {\n            className: 'agendCtrls-time-picker'\n          }, _react2.default.createElement('label', null, 'Start Date'), _react2.default.createElement(_reactDatetime2.default, {\n            value: this.state.startDateTime,\n            onChange: this.handleDateChange.bind(null, 'startDateTime'),\n            input: false,\n            viewMode: 'time'\n          })), _react2.default.createElement('div', {\n            className: 'agendCtrls-time-picker'\n          }, _react2.default.createElement('label', null, 'End Date'), _react2.default.createElement(_reactDatetime2.default, {\n            value: this.state.endDateTime,\n            onChange: this.handleDateChange.bind(null, 'endDateTime'),\n            input: false,\n            viewMode: 'time'\n          }))), _react2.default.createElement('input', {\n            type: 'submit',\n            value: 'Save'\n          })));\n        }\n\n        return _react2.default.createElement('div', {\n          className: 'agendCtrls-wrapper',\n          style: divStyle\n        }, _react2.default.createElement('form', {\n          onSubmit: this.handleSubmit\n        }, _react2.default.createElement('div', {\n          className: 'agendCtrls-label-wrapper'\n        }, _react2.default.createElement('div', {\n          className: 'agendCtrls-label-inline'\n        }, _react2.default.createElement('label', null, 'Event name'), _react2.default.createElement('input', {\n          type: 'text',\n          ref: 'eventName',\n          autoFocus: true,\n          name: 'name',\n          className: 'agendCtrls-event-input',\n          value: this.state.name,\n          onChange: this.handleChange.bind(this),\n          placeholder: 'Event Name'\n        })), _react2.default.createElement('div', {\n          className: 'agendCtrls-label-inline'\n        }, _react2.default.createElement('label', null, 'Color'), _react2.default.createElement('div', {\n          className: 'agendCtrls-radio-wrapper'\n        }, colors))), _react2.default.createElement('div', {\n          className: 'agendCtrls-timePicker-wrapper'\n        }, _react2.default.createElement('div', {\n          className: 'agendCtrls-time-picker'\n        }, _react2.default.createElement('label', null, 'Start Date'), _react2.default.createElement(_reactDatetime2.default, {\n          value: this.state.startDateTime,\n          onChange: this.handleDateChange.bind(null, 'startDateTime'),\n          input: false,\n          viewMode: 'time'\n        })), _react2.default.createElement('div', {\n          className: 'agendCtrls-time-picker'\n        }, _react2.default.createElement('label', null, 'End Date'), _react2.default.createElement(_reactDatetime2.default, {\n          value: this.state.endDateTime,\n          onChange: this.handleDateChange.bind(null, 'endDateTime'),\n          input: false,\n          viewMode: 'time'\n        }))), _react2.default.createElement('input', {\n          type: 'submit',\n          value: 'Save'\n        })));\n      }\n    }]);\n\n    return ReactAgendaCtrl;\n  }(_react.Component);\n\n  exports.default = ReactAgendaCtrl;\n  ReactAgendaCtrl.propTypes = {\n    items: _propTypes2.default.array,\n    itemColors: _propTypes2.default.object,\n    selectedCells: _propTypes2.default.array,\n    edit: _propTypes2.default.func,\n    Addnew: _propTypes2.default.func\n  };\n  ReactAgendaCtrl.defaultProps = {\n    items: [],\n    itemColors: {},\n    selectedCells: []\n  };\n  /***/\n},\n/* 15 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"react-datetime\");\n  /***/\n},\n/* 16 */\n\n/***/\nfunction (module, exports) {// removed by extract-text-webpack-plugin\n\n  /***/\n},\n/* 17 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var _react = __webpack_require__(0);\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _reactDom = __webpack_require__(18);\n\n  var _reactDom2 = _interopRequireDefault(_reactDom);\n\n  var _propTypes = __webpack_require__(1);\n\n  var _propTypes2 = _interopRequireDefault(_propTypes);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var ModalView = function (_Component) {\n    _inherits(ModalView, _Component);\n\n    function ModalView() {\n      _classCallCheck(this, ModalView);\n\n      return _possibleConstructorReturn(this, (ModalView.__proto__ || Object.getPrototypeOf(ModalView)).apply(this, arguments));\n    }\n\n    _createClass(ModalView, [{\n      key: 'render',\n      value: function render() {\n        if (this.props.frameless) {\n          return _react2.default.createElement('div', {\n            className: 'modal-nude  box-card'\n          }, _react2.default.createElement('a', {\n            onClick: this.props.closeFunc,\n            className: 'modal-close'\n          }, 'X'), _react2.default.createElement('div', {\n            className: 'modal-title'\n          }, ' ', this.props.title), this.props.children);\n        }\n\n        return _react2.default.createElement('div', {\n          className: 'modal  box-card'\n        }, _react2.default.createElement('a', {\n          onClick: this.props.closeFunc,\n          className: 'modal-close'\n        }, 'X'), _react2.default.createElement('div', {\n          className: 'modal-title'\n        }, ' ', this.props.title), this.props.children);\n      }\n    }]);\n\n    return ModalView;\n  }(_react.Component);\n\n  ModalView.propTypes = {\n    title: _propTypes2.default.string,\n    frameless: _propTypes2.default.bool,\n    children: _propTypes2.default.element,\n    closeFunc: _propTypes2.default.func\n  };\n  ModalView.defaultProps = {\n    title: '',\n    frameless: false\n  };\n\n  var Modal = function (_Component2) {\n    _inherits(Modal, _Component2);\n\n    function Modal(props) {\n      _classCallCheck(this, Modal);\n\n      var _this2 = _possibleConstructorReturn(this, (Modal.__proto__ || Object.getPrototypeOf(Modal)).call(this, props));\n\n      _this2.clickedOutside = _this2.clickedOutside.bind(_this2);\n      _this2.closeFunc = _this2.closeFunc.bind(_this2);\n      return _this2;\n    }\n\n    _createClass(Modal, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        this.modalWrapperTarget = document.createElement('div');\n        this.modalWrapperTarget.className = \"modal-wrapper\";\n        this.modalWrapperTarget.addEventListener('click', this.clickedOutside);\n        this.modalWrapperTarget.addEventListener('click', this.clickedOutside);\n        this.modalWrapperTarget.addEventListener('keydown', this.clickedOutside, true);\n        document.body.appendChild(this.modalWrapperTarget);\n\n        this._render();\n      }\n    }, {\n      key: 'clickedOutside',\n      value: function clickedOutside(e) {\n        if (e.key == 'Escape' || e.key == 'Esc' || e.keyCode == 27) {\n          e.preventDefault();\n          this.props.clickOutside(e);\n          return false;\n        }\n\n        if (this.props.clickOutside && e.target.classList.contains('modal-wrapper')) {\n          this.props.clickOutside(e);\n        }\n      }\n    }, {\n      key: 'closeFunc',\n      value: function closeFunc(e) {\n        if (this.props.clickOutside) {\n          this.props.clickOutside(e);\n        }\n      }\n    }, {\n      key: '_render',\n      value: function _render() {\n        _reactDom2.default.render(_react2.default.createElement(ModalView, {\n          children: this.props.children,\n          closeFunc: this.closeFunc,\n          title: this.props.title,\n          frameless: this.props.frameless\n        }), this.modalWrapperTarget);\n      }\n    }, {\n      key: 'componentDidUpdate',\n      value: function componentDidUpdate() {\n        this._render();\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        this.modalWrapperTarget.removeEventListener('click', this.clickedOutside);\n        this.modalWrapperTarget.removeEventListener('keydown', this.clickedOutside);\n\n        _reactDom2.default.unmountComponentAtNode(this.modalWrapperTarget);\n\n        document.body.removeChild(this.modalWrapperTarget);\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        return _react2.default.createElement('noscript', null);\n      }\n    }]);\n\n    return Modal;\n  }(_react.Component);\n\n  exports.default = Modal;\n  Modal.propTypes = {\n    title: _propTypes2.default.string,\n    frameless: _propTypes2.default.bool,\n    children: _propTypes2.default.element,\n    closeFunc: _propTypes2.default.func\n  };\n  Modal.defaultProps = {\n    title: '',\n    frameless: false\n  };\n  /***/\n},\n/* 18 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"react-dom\");\n  /***/\n},\n/* 19 */\n\n/***/\nfunction (module, exports) {// removed by extract-text-webpack-plugin\n\n  /***/\n}]);","map":null,"metadata":{},"sourceType":"script"}