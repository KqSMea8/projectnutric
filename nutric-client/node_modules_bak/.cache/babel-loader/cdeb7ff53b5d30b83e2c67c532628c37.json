{"ast":null,"code":"import _classCallCheck from \"/home/ubuntu/workspace/nutric-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ubuntu/workspace/nutric-client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ubuntu/workspace/nutric-client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ubuntu/workspace/nutric-client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ubuntu/workspace/nutric-client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ubuntu/workspace/nutric-client/src/Main/containers/MealPlans/MealPlanMain.js\";\nimport React, { Component } from 'react';\nimport { Link, Route, Switch, Redirect } from 'react-router-dom';\nimport { Grid, Table, TableBody, TableCell, TableHead, TableRow, Card, CardMedia, Typography } from '@material-ui/core';\nimport { connect } from 'react-redux';\nimport { fetchMealPlanTemplates, removeMealPlanTemplate } from '../../store/actions/mealPlanTemplate';\nimport { fetchMealPlans } from '../../store/actions/mealPlan';\nimport MealPlanCreate from './MealPlanCreate';\nimport MealPlanPendingTable from '../../components/MealPlans/MealPlanPendingTable';\nimport MealPlanTemplateCard from '../../components/MealPlans/MealPlanTemplateCard';\nimport plantilla_default from '../../images/plantilla_default.jpg';\n\nvar MealPlanMain =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MealPlanMain, _Component);\n\n  function MealPlanMain(props) {\n    var _this;\n\n    _classCallCheck(this, MealPlanMain);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MealPlanMain).call(this, props));\n    _this.state = {\n      isHovered: {}\n    };\n    return _this;\n  }\n\n  _createClass(MealPlanMain, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.fetchMealPlanTemplates(this.props.currentUser);\n      this.props.fetchMealPlans(this.props.currentUser);\n      this.props.changeHeaderTitle(\"Plan alimenticio\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          match = _this$props.match,\n          currentUser = _this$props.currentUser,\n          mealPlanTemplates = _this$props.mealPlanTemplates,\n          removeMealPlanTemplate = _this$props.removeMealPlanTemplate,\n          mealPlans = _this$props.mealPlans;\n      var mealPlansList = mealPlans.map(function (mealPlan) {\n        if (mealPlan.patient == null) {\n          return null;\n        } else {\n          var patient = mealPlan.patient,\n              createdAt = mealPlan.createdAt,\n              objective = mealPlan.objective,\n              progress = mealPlan.progress;\n          return [\"\".concat(patient.firstName, \" \").concat(patient.lastName), createdAt, objective, progress];\n        }\n      });\n      return React.createElement(\"div\", {\n        style: {\n          height: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"\".concat(match.url, \"/crear\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Click para ir a /dietas/crear\"), React.createElement(Grid, {\n        container: true,\n        style: {\n          height: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        style: {\n          height: '20%',\n          minHeight: 'fit-content',\n          paddingBottom: '20px',\n          borderBottom: '1px solid #d3d3d3'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, mealPlanTemplates.map(function (mpt) {\n        // agregar imagen al modelo\n        var mealPlanTemplateName = mpt.mealPlanTemplateName,\n            avgDailyCalories = mpt.avgDailyCalories,\n            avgDailyProtein = mpt.avgDailyProtein,\n            avgDailyCarbs = mpt.avgDailyCarbs,\n            avgDailyFat = mpt.avgDailyFat,\n            _id = mpt._id;\n        return React.createElement(MealPlanTemplateCard, {\n          image: plantilla_default,\n          imageTitle: 'plantilla_default',\n          mealPlanTemplateName: mealPlanTemplateName,\n          calories: avgDailyCalories,\n          protein: avgDailyProtein,\n          carbs: avgDailyCarbs,\n          fat: avgDailyFat,\n          popupRemove: removeMealPlanTemplate.bind(_this2, currentUser, _id) //currentUser es el id del experto\n          // show={showMealPlanTemplate.bind(this, currentUser, _id)}\n          ,\n          key: _id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        });\n      })), React.createElement(Grid, {\n        container: true,\n        spacing: 40,\n        style: {\n          height: 'auto',\n          margin: '0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \" \", React.createElement(Grid, {\n        item: true,\n        xs: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(MealPlanPendingTable, {\n        mealPlansList: mealPlansList,\n        numRows: 7,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        item: true,\n        xs: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        style: {\n          height: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \" Grafico1 \"), React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \" Grafico 2 \"))))), React.createElement(Route, {\n        exact: true,\n        path: \"\".concat(match.path, \"/crear\"),\n        render: function render() {\n          return React.createElement(MealPlanCreate, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return MealPlanMain;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return {\n    mealPlans: state.mealPlans,\n    mealPlanTemplates: state.mealPlanTemplates,\n    currentUser: state.currentUser.user.id\n  };\n}\n\nexport default connect(mapStateToProps, {\n  fetchMealPlanTemplates: fetchMealPlanTemplates,\n  removeMealPlanTemplate: removeMealPlanTemplate,\n  fetchMealPlans: fetchMealPlans\n})(MealPlanMain);","map":{"version":3,"sources":["/home/ubuntu/workspace/nutric-client/src/Main/containers/MealPlans/MealPlanMain.js"],"names":["React","Component","Link","Route","Switch","Redirect","Grid","Table","TableBody","TableCell","TableHead","TableRow","Card","CardMedia","Typography","connect","fetchMealPlanTemplates","removeMealPlanTemplate","fetchMealPlans","MealPlanCreate","MealPlanPendingTable","MealPlanTemplateCard","plantilla_default","MealPlanMain","props","state","isHovered","currentUser","changeHeaderTitle","match","mealPlanTemplates","mealPlans","mealPlansList","map","mealPlan","patient","createdAt","objective","progress","firstName","lastName","height","url","minHeight","paddingBottom","borderBottom","mpt","mealPlanTemplateName","avgDailyCalories","avgDailyProtein","avgDailyCarbs","avgDailyFat","_id","bind","margin","path","mapStateToProps","user","id"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Link, Route, Switch, Redirect} from 'react-router-dom';\nimport {Grid, Table, TableBody, TableCell, TableHead, TableRow, Card, CardMedia, Typography} from '@material-ui/core';\nimport {connect} from 'react-redux';\nimport { fetchMealPlanTemplates, removeMealPlanTemplate } from '../../store/actions/mealPlanTemplate';\nimport { fetchMealPlans } from '../../store/actions/mealPlan';\nimport MealPlanCreate from './MealPlanCreate';\nimport MealPlanPendingTable from '../../components/MealPlans/MealPlanPendingTable';\nimport MealPlanTemplateCard from '../../components/MealPlans/MealPlanTemplateCard';\nimport plantilla_default from '../../images/plantilla_default.jpg';\n\n\n\n\nclass MealPlanMain extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      isHovered:{}\n    };\n  }\n  \n  componentDidMount(){\n    this.props.fetchMealPlanTemplates(this.props.currentUser);\n    this.props.fetchMealPlans(this.props.currentUser); \n    this.props.changeHeaderTitle(\"Plan alimenticio\");\n  }\n  \n\n  render(){\n    const {match, currentUser, mealPlanTemplates, removeMealPlanTemplate, mealPlans} = this.props;\n\n    \n    const mealPlansList = mealPlans.map(mealPlan => {\n      if(mealPlan.patient==null){\n        return null\n      } else {\n        const {patient, createdAt, objective, progress} = mealPlan;\n        return (\n          [`${patient.firstName} ${patient.lastName}`, createdAt, objective, progress]\n        );\n      }\n    })\n    \n    \n    \n    return (\n      <div style={{height: '100%'}}>\n        <Link to={`${match.url}/crear`} >Click para ir a /dietas/crear</Link>\n        <Grid container style={{height: '100%'}}>\n        \n          <Grid container style={{height: '20%', minHeight: 'fit-content', paddingBottom: '20px', borderBottom: '1px solid #d3d3d3'}}>\n           {/*por ahora styiling ok hasta 3*/}\n            {mealPlanTemplates.map((mpt) => {\n            // agregar imagen al modelo\n              const { mealPlanTemplateName, avgDailyCalories, avgDailyProtein, avgDailyCarbs, avgDailyFat, _id } = mpt; \n              return(\n              <MealPlanTemplateCard \n                image={plantilla_default}\n                imageTitle={'plantilla_default'}\n                mealPlanTemplateName={mealPlanTemplateName}\n                calories={avgDailyCalories}\n                protein={avgDailyProtein}\n                carbs={avgDailyCarbs}\n                fat={avgDailyFat}\n                popupRemove={removeMealPlanTemplate.bind(this, currentUser, _id)} //currentUser es el id del experto\n                // show={showMealPlanTemplate.bind(this, currentUser, _id)}\n                key={_id}\n              />\n              );\n            })}\n          </Grid>\n    \n    {/*===============================*/}\n    \n            <Grid container spacing={40} style={{height: 'auto', margin: '0'}} > {/*spacing para los child*/}\n              <Grid item xs={8} >\n                {/*<MealPlanPendingTable \n                  mealPlans={mealPlans} //transformar a dietas pendientes en este componente\n                /> \n                */}\n                <MealPlanPendingTable mealPlansList={mealPlansList} numRows={7} />\n              </Grid>\n              \n              <Grid item xs={4} >\n                <Grid container style={{height: '100%'}}>\n                  <Grid item xs={12}> Grafico1 </Grid>\n                  <Grid item xs={12}> Grafico 2 </Grid>\n                </Grid>\n              </Grid>\n          \n          </Grid>\n          \n        </Grid>\n        <Route \n          exact \n          path={`${match.path}/crear`} \n          render={() => (<MealPlanCreate />) }\n        />\n      </div>\n        \n    );\n  }\n}\n\nfunction mapStateToProps(state){\n  return {\n    mealPlans: state.mealPlans,\n    mealPlanTemplates: state.mealPlanTemplates,\n    currentUser: state.currentUser.user.id\n  }\n  \n}\n\n\nexport default connect(mapStateToProps, { fetchMealPlanTemplates, removeMealPlanTemplate, fetchMealPlans })(MealPlanMain);"]},"metadata":{},"sourceType":"module"}