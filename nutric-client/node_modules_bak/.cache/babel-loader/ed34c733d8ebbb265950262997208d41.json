{"ast":null,"code":"import _defineProperty from \"/home/ubuntu/workspace/nutric-client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/ubuntu/workspace/nutric-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ubuntu/workspace/nutric-client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ubuntu/workspace/nutric-client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ubuntu/workspace/nutric-client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ubuntu/workspace/nutric-client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ubuntu/workspace/nutric-client/src/Main/components/Patients/PopupAddPatient.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { NavLink } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Add from '@material-ui/icons/Add';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Input from '@material-ui/core/Input';\nimport { apiCall } from '../../services/api';\nimport IconButton from '@material-ui/core/IconButton';\nimport PersonAdd from '@material-ui/icons/PersonAdd';\nimport CloseIcon from '@material-ui/icons/Close';\nimport moment from 'moment';\nimport \"antd/dist/antd.css\";\nimport { TimePicker } from \"antd\";\nimport { DatePicker } from \"antd\";\nvar styles = {\n  dialogPaper: {\n    //dimensiones del popup\n    minHeight: '85vh',\n    maxHeight: '85vh'\n  }\n};\n\nvar PopupAddPatient =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PopupAddPatient, _Component);\n\n  function PopupAddPatient() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PopupAddPatient);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PopupAddPatient)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      open: false,\n      multiline: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      birthDate: \"\"\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var currentUserId = _this.props.currentUserId; // apiCall(\"post\", `/api/experts/${currentUserId}/scheduledappointments/`,{\n      //   scheduledTimeStart:scheduledTimeStart,\n      //   scheduledTimeEnd:scheduledTimeEnd,\n      //   scheduledTimeDuration:duration,\n      //   notes:this.state.notes,\n      //   patient_id:this.state.patient,\n      // })\n      // .then(res => {\n      //   console.log(res);\n      //   // ¿Cómo se redirigía con history?\n      //   window.location.href=\"/agenda\"\n      // })\n      // .catch(err => {\n      //   console.log(err)\n      // });\n    };\n\n    _this.handleClickOpen = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.handleChange = function (name) {\n      return function (event) {\n        _this.setState(_defineProperty({}, name, event.target.value));\n      };\n    };\n\n    _this.handleDateChange = function (date) {\n      _this.setState({\n        date: date.set({\n          hour: 0,\n          minute: 0,\n          second: 0,\n          millisecond: 0\n        })\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(PopupAddPatient, [{\n    key: \"render\",\n    // disabledDate = current => {\n    //   return (\n    //     current &&\n    //     current <\n    //       moment()\n    //         .subtract(1, \"days\")\n    //         .endOf(\"day\")\n    //   );\n    // };\n    value: function render() {\n      var _this$props = this.props,\n          currentUserId = _this$props.currentUserId,\n          patient = _this$props.patient;\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        onClick: this.handleClickOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(PersonAdd, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      })), React.createElement(Dialog, {\n        classes: {\n          paper: classes.dialogPaper\n        },\n        open: this.state.open,\n        onClose: this.handleClose,\n        \"aria-labelledby\": \"form-dialog-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        id: \"form-dialog-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Agregar paciente\"), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(DialogContentText, {\n        style: {\n          marginBottom: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Completa el formulario con los datos del nuevo paciente.\"), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        style: {\n          padding: '0 20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        alignItems: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Nombre:\"), React.createElement(Grid, {\n        item: true,\n        xs: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(Input, {\n        placeholder: \"ej: Mar\\xEDa\",\n        className: classes.input,\n        inputProps: {\n          'aria-label': 'Description'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }))), React.createElement(Grid, {\n        container: true,\n        alignItems: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Apellido:\"), React.createElement(Grid, {\n        item: true,\n        xs: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(Input, {\n        placeholder: \"ej: Garc\\xEDa\",\n        className: classes.input,\n        inputProps: {\n          'aria-label': 'Description'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }))), React.createElement(Grid, {\n        container: true,\n        alignItems: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"Email:\"), React.createElement(Grid, {\n        item: true,\n        xs: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(Input, {\n        placeholder: \"ej: m.garcia@gmail.com\",\n        className: classes.input,\n        inputProps: {\n          'aria-label': 'Description'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }))), React.createElement(Grid, {\n        container: true,\n        alignItems: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"Fecha de nacimiento:\"), React.createElement(Grid, {\n        item: true,\n        xs: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(DatePicker, {\n        value: this.state.birthDate,\n        onChange: this.handleDateChange,\n        format: \"DD/MMMM/YYYY\",\n        placeholder: \"Fecha\",\n        showToday: false,\n        disabledDate: this.disabledDate,\n        allowClear: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      })))))), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.handleClose,\n        color: \"secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \"Cerrar\"), React.createElement(Button, {\n        onClick: this.handleSubmit,\n        variant: \"contained\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"Agendar cita\"))));\n    }\n  }]);\n\n  return PopupAddPatient;\n}(Component);\n\nPopupAddPatient.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nfunction mapStateToProps(state) {\n  return {\n    patients: state.patients,\n    currentUserId: state.currentUser.user.id\n  };\n}\n\n;\nexport default connect(mapStateToProps, null)(withStyles(styles)(PopupAddPatient));","map":{"version":3,"sources":["/home/ubuntu/workspace/nutric-client/src/Main/components/Patients/PopupAddPatient.js"],"names":["React","Component","connect","Redirect","NavLink","PropTypes","withStyles","Button","Add","Grid","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Input","apiCall","IconButton","PersonAdd","CloseIcon","moment","TimePicker","DatePicker","styles","dialogPaper","minHeight","maxHeight","PopupAddPatient","state","open","multiline","firstName","lastName","email","birthDate","handleSubmit","e","preventDefault","currentUserId","props","handleClickOpen","setState","handleClose","handleChange","name","event","target","value","handleDateChange","date","set","hour","minute","second","millisecond","patient","classes","paper","marginBottom","padding","input","disabledDate","propTypes","object","isRequired","mapStateToProps","patients","currentUser","user","id"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,GAAP,MAAgB,wBAAhB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,iBAAP,MAA8B,qCAA9B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,SAAQC,OAAR,QAAsB,oBAAtB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,SAAP,MAAsB,8BAAtB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AAEA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAO,oBAAP;AACA,SAASC,UAAT,QAA2B,MAA3B;AACA,SAASC,UAAT,QAA2B,MAA3B;AAEA,IAAMC,MAAM,GAAG;AACXC,EAAAA,WAAW,EAAE;AAAE;AACXC,IAAAA,SAAS,EAAE,MADF;AAETC,IAAAA,SAAS,EAAE;AAFF;AADF,CAAf;;IAQMC,e;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,IAAI,EAAE,KADA;AAENC,MAAAA,SAAS,EAAC,EAFJ;AAGNC,MAAAA,SAAS,EAAC,EAHJ;AAINC,MAAAA,QAAQ,EAAE,EAJJ;AAKNC,MAAAA,KAAK,EAAE,EALD;AAMNC,MAAAA,SAAS,EAAE;AANL,K;;UASRC,Y,GAAe,UAACC,CAAD,EAAO;AACpBA,MAAAA,CAAC,CAACC,cAAF;AADoB,UAEZC,aAFY,GAEM,MAAKC,KAFX,CAEZD,aAFY,EAIpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,K;;UAIDE,e,GAAkB,YAAM;AACtB,YAAKC,QAAL,CAAc;AAAEZ,QAAAA,IAAI,EAAE;AAAR,OAAd;AACD,K;;UAEDa,W,GAAc,YAAM;AAClB,YAAKD,QAAL,CAAc;AAAEZ,QAAAA,IAAI,EAAE;AAAR,OAAd;AACD,K;;UAEDc,Y,GAAe,UAAAC,IAAI;AAAA,aAAI,UAAAC,KAAK,EAAI;AAC9B,cAAKJ,QAAL,qBACGG,IADH,EACUC,KAAK,CAACC,MAAN,CAAaC,KADvB;AAGD,OAJkB;AAAA,K;;UAMnBC,gB,GAAmB,UAAAC,IAAI,EAAI;AACzB,YAAKR,QAAL,CAAc;AAAEQ,QAAAA,IAAI,EAAEA,IAAI,CAACC,GAAL,CAAS;AAAEC,UAAAA,IAAI,EAAE,CAAR;AAAWC,UAAAA,MAAM,EAAE,CAAnB;AAAsBC,UAAAA,MAAM,EAAE,CAA9B;AAAiCC,UAAAA,WAAW,EAAE;AAA9C,SAAT;AAAR,OAAd;AACD,K;;;;;;;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;6BAES;AAAA,wBACwB,KAAKf,KAD7B;AAAA,UACAD,aADA,eACAA,aADA;AAAA,UACeiB,OADf,eACeA,OADf;AAAA,UAECC,OAFD,GAEa,KAAKjB,KAFlB,CAECiB,OAFD;AAIP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAE,KAAKhB,eAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAIE,oBAAC,MAAD;AACE,QAAA,OAAO,EAAE;AAACiB,UAAAA,KAAK,EAACD,OAAO,CAAChC;AAAf,SADX;AAEE,QAAA,IAAI,EAAE,KAAKI,KAAL,CAAWC,IAFnB;AAGE,QAAA,OAAO,EAAE,KAAKa,WAHhB;AAIE,2BAAgB,mBAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAME,oBAAC,WAAD;AAAa,QAAA,EAAE,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BANF,EASE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,iBAAD;AAAmB,QAAA,KAAK,EAAE;AAACgB,UAAAA,YAAY,EAAE;AAAf,SAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oEADF,EAIE;AAAM,QAAA,QAAQ,EAAE,KAAKvB,YAArB;AAAmC,QAAA,KAAK,EAAE;AAACwB,UAAAA,OAAO,EAAE;AAAV,SAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAgB,QAAA,SAAS,EAAC,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE,oBAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAgB,QAAA,UAAU,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AACE,QAAA,WAAW,EAAC,cADd;AAEE,QAAA,SAAS,EAAEH,OAAO,CAACI,KAFrB;AAGE,QAAA,UAAU,EAAE;AACV,wBAAc;AADJ,SAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,CAFF,EAeE,oBAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAgB,QAAA,UAAU,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AACE,QAAA,WAAW,EAAC,eADd;AAEE,QAAA,SAAS,EAAEJ,OAAO,CAACI,KAFrB;AAGE,QAAA,UAAU,EAAE;AACV,wBAAc;AADJ,SAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,CAfF,EA4BE,oBAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAgB,QAAA,UAAU,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AACE,QAAA,WAAW,EAAC,wBADd;AAEE,QAAA,SAAS,EAAEJ,OAAO,CAACI,KAFrB;AAGE,QAAA,UAAU,EAAE;AACV,wBAAc;AADJ,SAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,CA5BF,EAyCE,oBAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAgB,QAAA,UAAU,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,EAEE,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AACE,QAAA,KAAK,EAAE,KAAKhC,KAAL,CAAWM,SADpB;AAEE,QAAA,QAAQ,EAAE,KAAKc,gBAFjB;AAGE,QAAA,MAAM,EAAE,cAHV;AAIE,QAAA,WAAW,EAAC,OAJd;AAKE,QAAA,SAAS,EAAE,KALb;AAME,QAAA,YAAY,EAAE,KAAKa,YANrB;AAOE,QAAA,UAAU,EAAE,KAPd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,CAzCF,CADF,CAJF,CATF,EAyEE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKnB,WAAtB;AAAmC,QAAA,KAAK,EAAC,WAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAIE,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKP,YAAtB;AAAoC,QAAA,OAAO,EAAC,WAA5C;AAAwD,QAAA,KAAK,EAAC,SAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJF,CAzEF,CAJF,CADF;AAyFD;;;;EAzJ2BnC,S;;AA4J9B2B,eAAe,CAACmC,SAAhB,GAA4B;AAC1BN,EAAAA,OAAO,EAAEpD,SAAS,CAAC2D,MAAV,CAAiBC;AADA,CAA5B;;AAIA,SAASC,eAAT,CAAyBrC,KAAzB,EAA+B;AAC7B,SAAM;AACJsC,IAAAA,QAAQ,EAAEtC,KAAK,CAACsC,QADZ;AAEJ5B,IAAAA,aAAa,EAAEV,KAAK,CAACuC,WAAN,CAAkBC,IAAlB,CAAuBC;AAFlC,GAAN;AAID;;AAAA;AAED,eAAepE,OAAO,CAACgE,eAAD,EAAkB,IAAlB,CAAP,CAA+B5D,UAAU,CAACkB,MAAD,CAAV,CAAmBI,eAAnB,CAA/B,CAAf","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {Redirect} from 'react-router-dom';\nimport { NavLink } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Add from '@material-ui/icons/Add'\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Input from '@material-ui/core/Input';\nimport {apiCall} from '../../services/api'\nimport IconButton from '@material-ui/core/IconButton';\nimport PersonAdd from '@material-ui/icons/PersonAdd'\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport moment from 'moment';\nimport \"antd/dist/antd.css\";\nimport { TimePicker } from \"antd\";\nimport { DatePicker } from \"antd\";\n\nconst styles = {\n    dialogPaper: { //dimensiones del popup\n        minHeight: '85vh',\n        maxHeight: '85vh',\n    }\n};\n\n\nclass PopupAddPatient extends Component {\n  state = {\n    open: false,\n    multiline:\"\",\n    firstName:\"\",\n    lastName: \"\",\n    email: \"\",\n    birthDate: \"\"\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const { currentUserId } = this.props\n       \n    // apiCall(\"post\", `/api/experts/${currentUserId}/scheduledappointments/`,{\n    //   scheduledTimeStart:scheduledTimeStart,\n    //   scheduledTimeEnd:scheduledTimeEnd,\n    //   scheduledTimeDuration:duration,\n    //   notes:this.state.notes,\n    //   patient_id:this.state.patient,\n    // })\n    // .then(res => {\n    //   console.log(res);\n    //   // ¿Cómo se redirigía con history?\n    //   window.location.href=\"/agenda\"\n    // })\n    // .catch(err => {\n    //   console.log(err)\n    // });\n  }\n\n\n  \n  handleClickOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n  \n  handleChange = name => event => {\n    this.setState({\n      [name]: event.target.value,\n    });\n  };\n  \n  handleDateChange = date => {\n    this.setState({ date: date.set({ hour: 0, minute: 0, second: 0, millisecond: 0 }) });\n  };\n  // disabledDate = current => {\n  //   return (\n  //     current &&\n  //     current <\n  //       moment()\n  //         .subtract(1, \"days\")\n  //         .endOf(\"day\")\n  //   );\n  // };\n  \n  render() {\n    const {currentUserId, patient}=this.props\n    const { classes } = this.props;\n    \n    return (\n      <div>\n        <IconButton onClick={this.handleClickOpen}>\n          <PersonAdd />\n        </IconButton>\n        <Dialog\n          classes={{paper:classes.dialogPaper}}\n          open={this.state.open}\n          onClose={this.handleClose}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">\n            Agregar paciente\n          </DialogTitle>\n          <DialogContent>\n            <DialogContentText style={{marginBottom: '15px'}}>\n              Completa el formulario con los datos del nuevo paciente.\n            </DialogContentText>\n            <form onSubmit={this.handleSubmit} style={{padding: '0 20px'}}>\n              <Grid container direction='row' >\n              \n                <Grid container alignItems='center'>\n                  <Grid item xs={2}>Nombre:</Grid>\n                  <Grid item xs={10}>\n                    <Input\n                      placeholder=\"ej: María\"\n                      className={classes.input}\n                      inputProps={{\n                        'aria-label': 'Description',\n                      }}\n                    />\n                  </Grid>\n                </Grid>\n                \n                <Grid container alignItems='center'>\n                  <Grid item xs={2}>Apellido:</Grid>\n                  <Grid item xs={10}>\n                    <Input\n                      placeholder=\"ej: García\"\n                      className={classes.input}\n                      inputProps={{\n                        'aria-label': 'Description',\n                      }}\n                    />\n                  </Grid>\n                </Grid>\n                \n                <Grid container alignItems='center'>\n                  <Grid item xs={2}>Email:</Grid>\n                  <Grid item xs={10}>\n                    <Input\n                      placeholder=\"ej: m.garcia@gmail.com\"\n                      className={classes.input}\n                      inputProps={{\n                        'aria-label': 'Description',\n                      }}\n                    />\n                  </Grid>\n                </Grid>\n                \n                <Grid container alignItems='center'>\n                  <Grid item xs={2}>Fecha de nacimiento:</Grid>\n                  <Grid item xs={10}>\n                    <DatePicker\n                      value={this.state.birthDate}\n                      onChange={this.handleDateChange}\n                      format={\"DD/MMMM/YYYY\"}\n                      placeholder=\"Fecha\"\n                      showToday={false}\n                      disabledDate={this.disabledDate}\n                      allowClear={false}\n                    />\n                  </Grid>\n                </Grid>\n                \n              </Grid>\n            </form>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleClose} color=\"secondary\">\n              Cerrar\n            </Button>\n            <Button onClick={this.handleSubmit} variant=\"contained\" color=\"primary\">\n              Agendar cita\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nPopupAddPatient.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nfunction mapStateToProps(state){\n  return{\n    patients: state.patients,\n    currentUserId: state.currentUser.user.id\n  };\n};\n  \nexport default connect(mapStateToProps, null)(withStyles(styles)(PopupAddPatient));"]},"metadata":{},"sourceType":"module"}